<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>People Pattern Insights API</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #f8f8f2;
  background-color: #272822;
}
.highlight .err {
  color: #151515;
  background-color: #ac4142;
}
.highlight .c, .highlight .cd, .highlight .cm, .highlight .c1, .highlight .cs {
  color: #505050;
}
.highlight .cp {
  color: #f4bf75;
}
.highlight .nt {
  color: #f4bf75;
}
.highlight .o, .highlight .ow {
  color: #d0d0d0;
}
.highlight .p, .highlight .pi {
  color: #d0d0d0;
}
.highlight .gi {
  color: #90a959;
}
.highlight .gd {
  color: #ac4142;
}
.highlight .gh {
  color: #6a9fb5;
  background-color: #151515;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #aa759f;
}
.highlight .kc {
  color: #d28445;
}
.highlight .kt {
  color: #d28445;
}
.highlight .kd {
  color: #d28445;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #90a959;
}
.highlight .sr {
  color: #75b5aa;
}
.highlight .si {
  color: #8f5536;
}
.highlight .se {
  color: #8f5536;
}
.highlight .nn {
  color: #f4bf75;
}
.highlight .nc {
  color: #f4bf75;
}
.highlight .no {
  color: #f4bf75;
}
.highlight .na {
  color: #6a9fb5;
}
.highlight .m, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mb, .highlight .mx {
  color: #90a959;
}
.highlight .ss {
  color: #90a959;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;shell&quot;,&quot;json&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">cURL</a>
              <a href="#" data-language-name="json">Output</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li>&#169; 2016 People Pattern Corporation</li>
            <li><a href="http://peoplepattern.com">People Pattern Home</a></li>
            <li><a href="https://app.peoplepattern.com/signin">Log in</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="people-pattern-audience-intelligence-api">People Pattern Audience Intelligence API</h1>

<p>The People Pattern Audience Intelligence API provides access People Pattern&rsquo;s
audience intelligence and model predictions as well as our Portrait Database (Pdb).
You can query the Pdb directly to retrieve portraits with psychographic and demographic attributes pre-appended, 
or you can submit profile and post data to the API and get it enriched.  These are the same services and machine
learning-based models which we use in the
<a href="http://app.peoplepattern.com">People Pattern</a> application.</p>

<p>The API described above is stateless, in that we do not
store any data provided by you (the client) for application
functionality &ndash; i.e. the service does not support HTTP PUT,
POST, or DELETE requests, at least in spirit. Rather, the API
provides access to resources we&rsquo;ve compiled and maintain.</p>

<p>For the <a href="#lookup-api">Lookup</a>, <a href="#search-api">Search</a> and
<a href="#aggregate-api">Aggregate</a> APIs, the resource accessed is the
Pdb itself. For the <a href="#enrich-api">Enrich API</a>, the resource
(or resources) are our compiled predictive models.</p>

          <h2 id="base-url">Base URL</h2>

<p>All URLs referenced in the documentation have the following base:</p>

<p><code class="prettyprint">https://api.peoplepattern.com</code></p>

<p>The People Pattern API is served over HTTPS. To ensure data privacy, unecrypted HTTP is not supported.</p>

<h2 id="authentication">Authentication</h2>

<p>HTTP requests to the API are protected with <a href="https://www.w3.org/2001/sw/Europe/events/foaf-galway/papers/fp/token_based_authentication/">Token Based authentication</a>.  This means that you will provide your security token with the Authorization header for authentication.</p>

<p><code class="prettyprint">curl https://api.peoplepattern.com/enrich \
    -H &quot;Authorization: secretkey&quot;</code></p>

<p>You can find your security token <a href="https://app.peoplepattern.com/edit">on your account page</a></p>

<aside class="notice">
You must replace <code>secretkey</code> with your personal API key.
</aside>

          <h1 id="authentication">Authentication</h1>

<blockquote>
<p>To authorize, use this code:</p>
</blockquote>
<pre class="highlight shell"><code><span class="c"># With shell, you can just pass the correct header with each request</span>
curl https://api.peoplepattern.com/... <span class="se">\</span>
  -H <span class="s2">"Authorization: secretkey"</span>
</code></pre>

<blockquote>
<p>Make sure to replace <code class="prettyprint">secretkey</code> with your API key.</p>
</blockquote>

<p>To access the People Pattern APIs you must acquire an authorization
key. This may be retrieved from the People Pattern dashboard application
via the following steps.</p>

<h3 id="acquire-your-key-from-the-people-pattern-dashboard">Acquire your key from the People Pattern dashboard</h3>

<p><strong>Step 1</strong> Go to your company <a href="#authentication">administration</a> page</p>

<p><img alt="Click Company administration from account menu" src="images/images/to-co-admin.png" /></p>

<p><strong>Step 2</strong> Select &ldquo;Manage API key&rdquo; tab</p>

<p><img alt="Click Manage API key tab" src="images/images/to-manage-keys.png" /></p>

<p><strong>Step 3</strong> I really don&rsquo;t know how the rest of this is going to
play out, consider this just a template or example.</p>

<h3 id="using-your-key">Using your key</h3>

<p>Requests to the API must contain an authorization header of the
following <a href="#lookup-api">form</a>.</p>

<p><code class="prettyprint">Authorization: token secretkey</code></p>

<aside class="notice">
You must replace <code>secretkey</code> with your personal API key.
</aside>

          <h1 id="data-objects">Data objects</h1>

<h2 id="json-schema">JSON Schema</h2>

<p>Most objects returned by the People Pattern Insights API suite
have JSON schema available</p>

<table><thead>
<tr>
<th>type</th>
<th>schema URL</th>
</tr>
</thead><tbody>
<tr>
<td>profile enrichments</td>
<td><a href="#">http://apidocs.peoplepattern.com/schemata/profile-enrichments.json</a></td>
</tr>
<tr>
<td>post enrichments</td>
<td><a href="#">http://apidocs.peoplepattern.com/schemata/post-enrichments.json</a></td>
</tr>
<tr>
<td>PDB profile</td>
<td><a href="#">http://apidocs.peoplepattern.com/schemata/profile.json</a></td>
</tr>
</tbody></table>

<h2 id="profile-input">Profile (input)</h2>

<blockquote>
<p>Example profile request as JSON</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"Joe User"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"juser"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my profile"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"location"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Boston, USA"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Profiles are objects containing any of the following fields. These are
provided to the profile <a href="#enrich-api">Enrich API</a> endpoints</p>

<table><thead>
<tr>
<th>field</th>
<th>type</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">name</code></td>
<td>string</td>
<td>the &ldquo;display name&rdquo; or provided profile name</td>
</tr>
<tr>
<td><code class="prettyprint">username</code></td>
<td>string</td>
<td>the screen name of the social profile</td>
</tr>
<tr>
<td><code class="prettyprint">description</code></td>
<td>string</td>
<td>the description or summary provided with the profile</td>
</tr>
<tr>
<td><code class="prettyprint">location</code></td>
<td>string</td>
<td>the text representation of the profile location, which often is provided with the social profile</td>
</tr>
</tbody></table>

<p>All fields are optional, but a profile containing <em>none</em> of these
fields is considered a bad request.</p>

<h3 id="enriched-profile">Enriched profile</h3>

<p>An enriched profile consists of a profile data structure &ndash;
all or any of the fields provided in an <a href="#profile-input">input profile</a>,
plus other optional data the client may have provided to the Enrich
API &ndash; together with a &ldquo;peoplepattern&rdquo; field containing
<a href="#profile-enrichments">profile enrichments</a>.</p>

<table><thead>
<tr>
<th>field</th>
<th>type</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">name</code></td>
<td>string</td>
</tr>
<tr>
<td><code class="prettyprint">username</code></td>
<td>string</td>
</tr>
<tr>
<td><code class="prettyprint">description</code></td>
<td>string</td>
</tr>
<tr>
<td><code class="prettyprint">location</code></td>
<td>string</td>
</tr>
<tr>
<td><code class="prettyprint">peoplepattern</code></td>
<td><a href="#profile-enrichments">profile enrichments</a></td>
</tr>
</tbody></table>

<h2 id="profile-enrichments">Profile enrichments</h2>

<blockquote>
<p>Example enrichments as JSON</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"account_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"person"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"spam"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"adult"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"vcard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"given-name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Joe"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"family-name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"User"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"fn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Joe User"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"demographics"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"birthyear"</span><span class="p">:</span><span class="w"> </span><span class="mi">1985</span><span class="p">,</span><span class="w">
    </span><span class="nt">"gender"</span><span class="p">:</span><span class="w"> </span><span class="s2">"male"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"race"</span><span class="p">:</span><span class="w"> </span><span class="s2">"white"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"place"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"city"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"geo_name_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4930956</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"City"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"location"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"dma"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Boston, MA-Manchester, NH"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Boston"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Massachusetts"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"state_abbreviation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MA"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"utc_offset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-18000"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"time_zone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"America/New_York"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"metro_area"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Boston-Cambridge-Newton, MA-NH"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"continent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NA"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"language"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"population"</span><span class="p">:</span><span class="w"> </span><span class="mi">617594</span><span class="p">,</span><span class="w">
      </span><span class="nt">"place_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"City"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"United States"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"country_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"coordinates"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"longitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">42.35843</span><span class="p">,</span><span class="w">
        </span><span class="nt">"latitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">-71.05977</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>The structured enrichments appended to profile data by the API
consist of fields for account type, spam, adult content, vcard
(normalized name), demographics, and normalized location.</p>

<h3 id="vcard">vcard</h3>

<table><thead>
<tr>
<th>field</th>
<th>type</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">name</code></td>
<td><a href="#vcard-name">vcard.name</a></td>
<td>name</td>
</tr>
<tr>
<td><code class="prettyprint">email</code></td>
<td>array of string</td>
<td>emails</td>
</tr>
<tr>
<td><code class="prettyprint">tel</code></td>
<td>array of string</td>
<td>telephone numbers</td>
</tr>
</tbody></table>

<h3 id="vcard-name">vcard.name</h3>

<table><thead>
<tr>
<th>field</th>
<th>type</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">given-name</code></td>
<td>string</td>
<td>given or first name</td>
</tr>
<tr>
<td><code class="prettyprint">family-name</code></td>
<td>string</td>
<td>family name, surname or last name</td>
</tr>
<tr>
<td><code class="prettyprint">fn</code></td>
<td>string</td>
<td>full name for display</td>
</tr>
</tbody></table>

<h3 id="demographics">demographics</h3>

<table><thead>
<tr>
<th>field</th>
<th>type</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">birthyear</code></td>
<td>number</td>
<td>predicted or stated birth year of the profile</td>
</tr>
<tr>
<td><code class="prettyprint">gender</code></td>
<td>string</td>
<td>predicted gender of the profile</td>
</tr>
<tr>
<td><code class="prettyprint">race</code></td>
<td>string</td>
<td>predicted racial identify of the profile</td>
</tr>
</tbody></table>

<h4 id="gender-values">Gender values</h4>

<ul>
<li><code class="prettyprint">male</code></li>
<li><code class="prettyprint">female</code></li>
</ul>

<h4 id="race-values">Race values</h4>

<ul>
<li><code class="prettyprint">white</code></li>
<li><code class="prettyprint">black</code></li>
<li><code class="prettyprint">east-asian</code></li>
<li><code class="prettyprint">south-asian</code></li>
<li><code class="prettyprint">hispanic</code></li>
<li><code class="prettyprint">middle-eastern</code></li>
<li><code class="prettyprint">no-prediction</code></li>
</ul>

<aside class="notice">
Obviously, the values our predictive models use vastly oversimplify
matters of racial and gender identity; the values chosen align roughly
with demographic categories useful for marketing and public relations
use cases, and should not be taken as anything more than that. With
respect to the racial identity categories, our set of values is a
variation of the US Census categories commonly used in media and
marketing analytics, and as such characterize US social media culture
better than other markets.
</aside>

<h3 id="place">place</h3>

<table><thead>
<tr>
<th>field</th>
<th>type</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">city</code></td>
<td>boolean</td>
<td>true if the place is a city location</td>
</tr>
<tr>
<td><code class="prettyprint">state</code></td>
<td>boolean</td>
<td>true if the place is a state location</td>
</tr>
<tr>
<td><code class="prettyprint">province</code></td>
<td>boolean</td>
<td>true if the place is a province location</td>
</tr>
<tr>
<td><code class="prettyprint">country</code></td>
<td>boolean</td>
<td>true if the place is a country location</td>
</tr>
<tr>
<td><code class="prettyprint">type</code></td>
<td>string</td>
<td>&ldquo;City&rdquo;, &ldquo;State&rdquo;, &ldquo;Provice&rdquo; or &ldquo;Country&rdquo;</td>
</tr>
<tr>
<td><code class="prettyprint">geo_name_id</code></td>
<td>number</td>
<td>the ID number of the place in the Geonames DB</td>
</tr>
<tr>
<td><code class="prettyprint">location</code></td>
<td><a href="#location">location</a></td>
<td>the location record</td>
</tr>
</tbody></table>

<h3 id="location">location</h3>

<table><thead>
<tr>
<th>field</th>
<th>type</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">dma</code></td>
<td>string</td>
<td>the designated market area of the location, if applicable</td>
</tr>
<tr>
<td><code class="prettyprint">city</code></td>
<td>string</td>
<td>the city name of the location, if applicable</td>
</tr>
<tr>
<td><code class="prettyprint">state</code></td>
<td>string</td>
<td>the state name of the location, if applicable</td>
</tr>
<tr>
<td><code class="prettyprint">state_abbreviation</code></td>
<td>string</td>
<td>the state abbreviation, if applicable</td>
</tr>
<tr>
<td><code class="prettyprint">utc_offset</code></td>
<td>string</td>
<td>the UTC offset in minutes, e.g. &ldquo;-18000&rdquo; is Eastern Standard</td>
</tr>
<tr>
<td><code class="prettyprint">time_zone</code></td>
<td>string</td>
<td>the timezone name, if applicable</td>
</tr>
<tr>
<td><code class="prettyprint">metro_area</code></td>
<td>string</td>
<td>the metropolitan area, if applicable</td>
</tr>
<tr>
<td><code class="prettyprint">continent</code></td>
<td>string</td>
<td>the continent of the location, if applicable</td>
</tr>
<tr>
<td><code class="prettyprint">language</code></td>
<td>string</td>
<td>ISO language code of the country of the location</td>
</tr>
<tr>
<td><code class="prettyprint">population</code></td>
<td>number</td>
<td>population of the location, if applicable</td>
</tr>
<tr>
<td><code class="prettyprint">place_type</code></td>
<td>string</td>
<td>&ldquo;City&rdquo;, &ldquo;State&rdquo;, &ldquo;Provice&rdquo; or &ldquo;Country&rdquo;</td>
</tr>
<tr>
<td><code class="prettyprint">country</code></td>
<td>string</td>
<td>the country of the location</td>
</tr>
<tr>
<td><code class="prettyprint">country_code</code></td>
<td>string</td>
<td>the country code of the location</td>
</tr>
<tr>
<td><code class="prettyprint">coordinates</code></td>
<td><a href="#coordinates">coordinates</a></td>
<td>Lat/long coordinates</td>
</tr>
</tbody></table>

<h3 id="coordinates">coordinates</h3>

<table><thead>
<tr>
<th>field</th>
<th>type</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">latitude</code></td>
<td>number</td>
</tr>
<tr>
<td><code class="prettyprint">longitude</code></td>
<td>number</td>
</tr>
</tbody></table>

<h2 id="post-input">Post (input)</h2>

<p>A social media post or other text may be passed to the Enrich API
as a JSON object with a string-valued <code class="prettyprint">text</code> field</p>

<table><thead>
<tr>
<th>field</th>
<th>type</th>
</tr>
</thead><tbody>
<tr>
<td>text</td>
<td>string</td>
</tr>
</tbody></table>

<p>JSON objects containing other fields may be used, and other
fields are provided back to the client in
<a href="#enriched-post">enriched post output</a></p>

<h2 id="post-enrichments">Post enrichments</h2>

<blockquote>
<p>Sample post enrichments as JSON</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"interests"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"science"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"languages"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"en"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"sentiment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"neutral"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Post enrichments consist of a set of predicted interest topics,
predicted languages and predicted sentiment</p>

<table><thead>
<tr>
<th>field</th>
<th>type</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>interests</td>
<td>array of string</td>
<td><a href="#interest-topic-values">interest topics</a></td>
</tr>
<tr>
<td>languages</td>
<td>array of string</td>
<td><a href="https://en.wikipedia.org/wiki/ISO_639-1">ISO 639-1 two letter language codes</a></td>
</tr>
<tr>
<td>sentiment</td>
<td>string</td>
<td>&ldquo;positive&rdquo;, &ldquo;negative&rdquo; or &ldquo;neutral&rdquo;</td>
</tr>
</tbody></table>

<h4 id="interest-topic-values">Interest topic values</h4>

<ul>
<li><code class="prettyprint">animals</code></li>
<li><code class="prettyprint">art</code></li>
<li><code class="prettyprint">automotive</code></li>
<li><code class="prettyprint">beauty</code></li>
<li><code class="prettyprint">beverages</code></li>
<li><code class="prettyprint">business</code></li>
<li><code class="prettyprint">charity</code></li>
<li><code class="prettyprint">computers</code></li>
<li><code class="prettyprint">consumer_electronics</code></li>
<li><code class="prettyprint">cooking</code></li>
<li><code class="prettyprint">crafts</code></li>
<li><code class="prettyprint">current_events</code></li>
<li><code class="prettyprint">dance</code></li>
<li><code class="prettyprint">dating</code></li>
<li><code class="prettyprint">design</code></li>
<li><code class="prettyprint">environmentalism</code></li>
<li><code class="prettyprint">extreme_sports</code></li>
<li><code class="prettyprint">family</code></li>
<li><code class="prettyprint">fashion</code></li>
<li><code class="prettyprint">finance</code></li>
<li><code class="prettyprint">fitness</code></li>
<li><code class="prettyprint">food</code></li>
<li><code class="prettyprint">gaming</code></li>
<li><code class="prettyprint">health_care</code></li>
<li><code class="prettyprint">higher_education</code></li>
<li><code class="prettyprint">home_and_garden</code></li>
<li><code class="prettyprint">humor</code></li>
<li><code class="prettyprint">leisure_sports</code></li>
<li><code class="prettyprint">local_life</code></li>
<li><code class="prettyprint">major_sports</code></li>
<li><code class="prettyprint">marketing</code></li>
<li><code class="prettyprint">military</code></li>
<li><code class="prettyprint">movies</code></li>
<li><code class="prettyprint">multimedia</code></li>
<li><code class="prettyprint">music</code></li>
<li><code class="prettyprint">nutrition</code></li>
<li><code class="prettyprint">other_sports</code></li>
<li><code class="prettyprint">outdoor_recreation</code></li>
<li><code class="prettyprint">parenting</code></li>
<li><code class="prettyprint">politics</code></li>
<li><code class="prettyprint">pop_culture</code></li>
<li><code class="prettyprint">reading</code></li>
<li><code class="prettyprint">religion</code></li>
<li><code class="prettyprint">school_life</code></li>
<li><code class="prettyprint">science</code></li>
<li><code class="prettyprint">shopping</code></li>
<li><code class="prettyprint">small_business</code></li>
<li><code class="prettyprint">toys_and_games</code></li>
<li><code class="prettyprint">travel</code></li>
<li><code class="prettyprint">tv</code></li>
</ul>

          <h1 id="enrich-api">Enrich API</h1>

<p>The Enrich API enables you to access the predictions of our
profile and text models to extract personal attributes, like
demographics and location information, from standard
semistructured profile data structures.</p>

<h3 id="why-you-might-need-the-enrich-api">Why you might need the Enrich API</h3>

<p>Similar functionality is provided by the <a href="#lookup-api">Lookup API</a>
provided you have social profile IDs or screen names. For many
users, IDs or screen names are more easily acquired (e.g. off of
CRMs or user databases) than full profile content, which usually
must be fetched from a social network API.</p>

<p>This API fills some gaps in Lookup API functionality:</p>

<ul>
<li>Our PDB is largely (though not entirely) comprised of Twitter
data, so for social network data from other resources your
application may have access to &ndash; Reddit profile data, for
example &ndash; you can enrich this data with the Enrich API.</li>
<li>We&rsquo;ve collected a large number of Twitter profiles in the PDB,
but do not guarantee total coverage. Moreover, as users change
their screen names often, we can not guarantee being able to
find a user by an outdated screen name, or one which has been
very recently changed</li>
<li>The Enrich API gives you textual enrichments on individual
texts (i.e. social media posts), for <strong>sentiment</strong>,
<strong>language</strong> and <strong>interests</strong> attributes. The PDB access
APIs only provide access to profile attributes.</li>
</ul>

<h3 id="enrich-api-philosophy">Enrich API philosophy</h3>

<p>This API enriches your content; for this reason, it takes as
input fairly arbitrary data serialized as JSON, and echoes that
content back in the response only with predicted enrichments. This
allows the client to, for instance, include an identifier which may
be used to retrieve the record from a database to update with
People Pattern enrichments; by including these details in the
API response body, the client does not need to keep track of
which records in single or batch responses correspond with which
inputs.</p>

<h2 id="enrich-a-single-profile">Enrich a single profile</h2>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/enrich/profile</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.peoplepattern.com</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Authoriation</span><span class="p">:</span> <span class="s">secretkey</span>

<span class="p">{</span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"Joe User"</span><span class="p">,</span><span class="w"> </span><span class="nt">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"juser"</span><span class="p">,</span><span class="w"> </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my profile"</span><span class="p">,</span><span class="w"> </span><span class="nt">"location"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Boston, USA"</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight shell"><code>curl https://api.peoplepattern.com/enrich/profile <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s2">"Authorization: secretkey"</span> <span class="se">\</span>
  -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Accept: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{"name":"Joe User", "username": "juser", "description": "my profile", "location": "Boston, USA"}'</span>
</code></pre>

<blockquote>
<p>Response will look like:</p>
</blockquote>
<pre class="highlight shell"><code><span class="o">{</span><span class="s2">"name"</span>:<span class="s2">"Joe User"</span>,<span class="s2">"username"</span>:<span class="s2">"juser"</span>,<span class="s2">"description"</span>:<span class="s2">"my profile"</span>,<span class="s2">"location"</span>:<span class="s2">"Boston, USA"</span>,<span class="s2">"peoplepattern"</span>:<span class="o">{</span><span class="s2">"account_type"</span>:<span class="s2">"person"</span> ....
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json; charset=utf-8</span>
<span class="na">X-Request-Id</span><span class="p">:</span> <span class="s">9372aa09-eb86-4366-889e-02a1a5107432</span>

<span class="p">{</span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"Joe User"</span><span class="p">,</span><span class="nt">"username"</span><span class="p">:</span><span class="s2">"juser"</span><span class="p">,</span><span class="nt">"description"</span><span class="p">:</span><span class="s2">"my profile"</span><span class="p">,</span><span class="nt">"location"</span><span class="p">:</span><span class="s2">"Boston, USA"</span><span class="p">,</span><span class="nt">"peoplepattern"</span><span class="p">:{</span><span class="nt">"account_type"</span><span class="p">:</span><span class="s2">"person"</span><span class="w"> </span><span class="err">....</span><span class="w">
</span></code></pre>

<p>When passing a single <a href="#profile-input">profile</a> to the
enrich profile endpoint, the profile data structure is passed
back to the client with a <code class="prettyprint">peoplepattern</code> field filled with
<a href="#profile-enrichments">profile enrichments</a>.</p>

<aside class="notice">
We use the HTTP POST method, since some clients do not allow you to
send request bodies with HTTP requests. For some requests, especially
<a href="#enrich-a-profile-batch">the profile batch call</a>, we want
to ensure the API supports JSON request bodies.
</aside>

<aside class="notice">
The Enrich API also supports document formats provided by social media
API, starting with the Twitter API. By passing a
<a href="https://dev.twitter.com/overview/api/users">Twitter user object</a> in the
Twitter standard API JSON format, the Enrich API will return the document
in its original format only with a new &ldquo;peoplepattern&rdquo; field, populated
as above.
</aside>

<h2 id="enrich-a-profile-batch">Enrich a profile batch</h2>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/enrich/profile</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.peoplepattern.com</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Authoriation</span><span class="p">:</span> <span class="s">secretkey</span>

<span class="p">[{</span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"Joe User"</span><span class="p">,</span><span class="w"> </span><span class="nt">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"juser"</span><span class="p">,</span><span class="w"> </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my profile"</span><span class="p">,</span><span class="w"> </span><span class="nt">"location"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Boston, USA"</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mary Brown"</span><span class="p">,</span><span class="w"> </span><span class="nt">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mbrown"</span><span class="p">,</span><span class="w"> </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"This is Mary's profile"</span><span class="p">}]</span><span class="w">
</span></code></pre>
<pre class="highlight shell"><code>curl https://api.peoplepattern.com/enrich/profile <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s2">"Authorization: secretkey"</span> <span class="se">\</span>
  -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Accept: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'[{"name":"Joe User", "username": "juser", "description": "my profile", "location": "Boston, USA"}, {"name": "Mary Brown", "username": "mbrown", "description": "This is Marys profile"}]'</span>
</code></pre>

<blockquote>
<p>Response will look like:</p>
</blockquote>
<pre class="highlight shell"><code><span class="o">[{</span><span class="s2">"status"</span>:<span class="s2">"success"</span>,<span class="s2">"code"</span>:200,<span class="s2">"response"</span>:<span class="o">{</span><span class="s2">"account_type"</span>:<span class="s2">"person"</span>,<span class="s2">"spam"</span>:false,<span class="s2">"adult"</span>:false,<span class="s2">"vcard"</span>:<span class="o">{</span><span class="s2">"name"</span>:<span class="o">{</span><span class="s2">"given-name"</span>:<span class="s2">"Joe"</span>,<span class="s2">"family-name"</span>:<span class="s2">"User"</span>,<span class="s2">"fn"</span>:<span class="s2">"Joe User"</span><span class="o">}</span>,<span class="s2">"email"</span>:[]<span class="o">}</span>,<span class="s2">"demographics"</span>:<span class="o">{</span><span class="s2">"birthyear"</span>:1985,<span class="s2">"gender"</span>:<span class="s2">"male"</span>,<span class="s2">"race"</span>:<span class="s2">"white"</span><span class="o">}</span>,<span class="s2">"place"</span>:<span class="o">{</span><span class="s2">"city"</span>:true,<span class="s2">"geo_name_id"</span>:4930956,<span class="s2">"type"</span>:<span class="s2">"City"</span>,<span class="s2">"location"</span>:<span class="o">{</span><span class="s2">"dma"</span>:<span class="s2">"Boston, MA-Manchester, NH"</span>,<span class="s2">"city"</span>:<span class="s2">"Boston"</span>,<span class="s2">"state"</span>:<span class="s2">"Massachusetts"</span>,<span class="s2">"state_abbreviation"</span>:<span class="s2">"MA"</span>,<span class="s2">"utc_offset"</span>:<span class="s2">"-18000"</span>,<span class="s2">"time_zone"</span>:<span class="s2">"America/New_York"</span>,<span class="s2">"metro_area"</span>:<span class="s2">"Boston-Cambridge-Newton, MA-NH"</span>,<span class="s2">"continent"</span>:<span class="s2">"NA"</span>,<span class="s2">"language"</span>:<span class="s2">"en"</span>,<span class="s2">"population"</span>:617594,<span class="s2">"place_type"</span>:<span class="s2">"City"</span>,<span class="s2">"country"</span>:<span class="s2">"United States"</span>,<span class="s2">"country_code"</span>:<span class="s2">"US"</span>,<span class="s2">"coordinates"</span>:<span class="o">{</span><span class="s2">"longitude"</span>:42.35843,<span class="s2">"latitude"</span>:-71.05977<span class="o">}}}}]</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json; charset=utf-8</span>
<span class="na">X-Request-Id</span><span class="p">:</span> <span class="s">9372aa09-eb86-4366-889e-02a1a5107432</span>

<span class="p">[{</span><span class="nt">"status"</span><span class="p">:</span><span class="s2">"success"</span><span class="p">,</span><span class="nt">"code"</span><span class="p">:</span><span class="mi">200</span><span class="p">,</span><span class="nt">"response"</span><span class="p">:{</span><span class="nt">"account_type"</span><span class="p">:</span><span class="s2">"person"</span><span class="p">,</span><span class="nt">"spam"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="nt">"adult"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="nt">"vcard"</span><span class="p">:{</span><span class="nt">"name"</span><span class="p">:{</span><span class="nt">"given-name"</span><span class="p">:</span><span class="s2">"Joe"</span><span class="p">,</span><span class="nt">"family-name"</span><span class="p">:</span><span class="s2">"User"</span><span class="p">,</span><span class="nt">"fn"</span><span class="p">:</span><span class="s2">"Joe User"</span><span class="p">},</span><span class="nt">"email"</span><span class="p">:[]},</span><span class="nt">"demographics"</span><span class="p">:{</span><span class="nt">"birthyear"</span><span class="p">:</span><span class="mi">1985</span><span class="p">,</span><span class="nt">"gender"</span><span class="p">:</span><span class="s2">"male"</span><span class="p">,</span><span class="nt">"race"</span><span class="p">:</span><span class="s2">"white"</span><span class="p">},</span><span class="nt">"place"</span><span class="p">:{</span><span class="nt">"city"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="nt">"geo_name_id"</span><span class="p">:</span><span class="mi">4930956</span><span class="p">,</span><span class="nt">"type"</span><span class="p">:</span><span class="s2">"City"</span><span class="p">,</span><span class="nt">"location"</span><span class="p">:{</span><span class="nt">"dma"</span><span class="p">:</span><span class="s2">"Boston, MA-Manchester, NH"</span><span class="p">,</span><span class="nt">"city"</span><span class="p">:</span><span class="s2">"Boston"</span><span class="p">,</span><span class="nt">"state"</span><span class="p">:</span><span class="s2">"Massachusetts"</span><span class="p">,</span><span class="nt">"state_abbreviation"</span><span class="p">:</span><span class="s2">"MA"</span><span class="p">,</span><span class="nt">"utc_offset"</span><span class="p">:</span><span class="s2">"-18000"</span><span class="p">,</span><span class="nt">"time_zone"</span><span class="p">:</span><span class="s2">"America/New_York"</span><span class="p">,</span><span class="nt">"metro_area"</span><span class="p">:</span><span class="s2">"Boston-Cambridge-Newton, MA-NH"</span><span class="p">,</span><span class="nt">"continent"</span><span class="p">:</span><span class="s2">"NA"</span><span class="p">,</span><span class="nt">"language"</span><span class="p">:</span><span class="s2">"en"</span><span class="p">,</span><span class="nt">"population"</span><span class="p">:</span><span class="mi">617594</span><span class="p">,</span><span class="nt">"place_type"</span><span class="p">:</span><span class="s2">"City"</span><span class="p">,</span><span class="nt">"country"</span><span class="p">:</span><span class="s2">"United States"</span><span class="p">,</span><span class="nt">"country_code"</span><span class="p">:</span><span class="s2">"US"</span><span class="p">,</span><span class="nt">"coordinates"</span><span class="p">:{</span><span class="nt">"longitude"</span><span class="p">:</span><span class="mf">42.35843</span><span class="p">,</span><span class="nt">"latitude"</span><span class="p">:</span><span class="mf">-71.05977</span><span class="p">}}}}</span><span class="err">]</span><span class="w">
</span></code></pre>

<blockquote>
<p>Example invalid format call with output</p>
</blockquote>
<pre class="highlight shell"><code>curl https://api.peoplepattern.com/enrich/profile <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s2">"Authorization: secretkey"</span> <span class="se">\</span>
  -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Accept: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'[{}]'</span>

<span class="o">[{</span><span class="s2">"status"</span>:<span class="s2">"error"</span>,<span class="s2">"code"</span>:400,<span class="s2">"error"</span>:<span class="o">{</span><span class="s2">"input"</span>:<span class="o">{}</span>,<span class="s2">"message"</span>:<span class="s2">"No valid fields provided for profile content"</span><span class="o">}}]</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/enrich/profile</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.peoplepattern.com</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Authoriation</span><span class="p">:</span> <span class="s">secretkey</span>

<span class="p">[{}]</span><span class="w">
</span></code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json; charset=utf-8</span>
<span class="na">X-Request-Id</span><span class="p">:</span> <span class="s">9372aa09-eb86-4366-889e-02a1a5107432</span>

<span class="p">[{</span><span class="nt">"status"</span><span class="p">:</span><span class="s2">"error"</span><span class="p">,</span><span class="nt">"code"</span><span class="p">:</span><span class="mi">400</span><span class="p">,</span><span class="nt">"error"</span><span class="p">:{</span><span class="nt">"input"</span><span class="p">:{},</span><span class="nt">"message"</span><span class="p">:</span><span class="s2">"No valid fields provided for profile content"</span><span class="p">}}]</span><span class="w">
</span></code></pre>

<p>When passing a batch of profiles to the enrich profile endpoint,
the client receives a batch of responses. Since each profile request
may succeed or fail individually, the batch of responses included
their own meta-data with respect to the response status.</p>

<aside class="notice">
As with the single-profile call, batches of Twitter API format &ldquo;users&rdquo;
are also supported.
</aside>

<h2 id="enrich-a-social-media-post">Enrich a social media post</h2>
<pre class="highlight shell"><code>curl https://api.peoplepattern.com/enrich/post <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s2">"Authorization: secretkey"</span> <span class="se">\</span>
  -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Accept: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{"text":"Bowling tonight? or kung-fu?"}'</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/enrich/post</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.peoplepattern.com</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Authoriation</span><span class="p">:</span> <span class="s">secretkey</span>

<span class="p">{</span><span class="nt">"text"</span><span class="p">:</span><span class="s2">"Bowling tonight? or kung-fu?"</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Response will look like:</p>
</blockquote>
<pre class="highlight shell"><code><span class="o">{</span><span class="s2">"text"</span>:<span class="s2">"Bowling tonight? or kung-fu?"</span>,<span class="s2">"peoplepattern"</span>:<span class="o">{</span><span class="s2">"interests"</span>:[<span class="s2">"leisure_sports"</span><span class="o">]</span>,<span class="s2">"languages"</span>:[<span class="s2">"en"</span><span class="o">]</span>,<span class="s2">"sentiment"</span>:<span class="s2">"neutral"</span>,<span class="s2">"interestingness"</span>:0.7085509373685894<span class="o">}}</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json; charset=utf-8</span>
<span class="na">X-Request-Id</span><span class="p">:</span> <span class="s">80990215-d2f5-4dbd-836c-9bb3f3613539</span>

<span class="p">{</span><span class="nt">"text"</span><span class="p">:</span><span class="s2">"Bowling tonight? or kung-fu?"</span><span class="p">,</span><span class="nt">"peoplepattern"</span><span class="p">:{</span><span class="nt">"interests"</span><span class="p">:[</span><span class="s2">"leisure_sports"</span><span class="p">],</span><span class="nt">"languages"</span><span class="p">:[</span><span class="s2">"en"</span><span class="p">],</span><span class="nt">"sentiment"</span><span class="p">:</span><span class="s2">"neutral"</span><span class="p">,</span><span class="nt">"interestingness"</span><span class="p">:</span><span class="mf">0.7085509373685894</span><span class="p">}}</span><span class="w">
</span></code></pre>

<p>When passing a single <a href="#post-input">post</a> to the
enrich post endpoint, the post data structure is passed
back to the client with a <code class="prettyprint">peoplepattern</code> field filled with
<a href="#post-enrichments">post enrichments</a>.</p>

<aside class="notice">
Since the Twitter API standard <a href="https://dev.twitter.com/overview/api/tweets">tweet</a>
data structures do contain a &ldquo;text&rdquo; field, the Enrich API
social media post enrichment call will work with tweet JSON
</aside>

<h2 id="enrich-a-post-batch">Enrich a post batch</h2>
<pre class="highlight shell"><code>curl https://api.peoplepattern.com/enrich/post <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s2">"Authorization: secretkey"</span> <span class="se">\</span>
  -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Accept: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'[{"text":"Bowling tonight? or kung-fu?"},{"text":"I love bowling with friends"},{"text":"But I also love eating at home with the family"}]'</span>
</code></pre>
<pre class="highlight http"><code><span class="nf">POST</span> <span class="nn">/enrich/post</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.peoplepattern.com</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Authoriation</span><span class="p">:</span> <span class="s">secretkey</span>

<span class="p">[{</span><span class="nt">"text"</span><span class="p">:</span><span class="s2">"Bowling tonight? or kung-fu?"</span><span class="p">},{</span><span class="nt">"text"</span><span class="p">:</span><span class="s2">"I love bowling with friends"</span><span class="p">},{</span><span class="nt">"text"</span><span class="p">:</span><span class="s2">"But I also love eating at home with the family"</span><span class="p">}]</span><span class="w">
</span></code></pre>

<blockquote>
<p>Response will look like:</p>
</blockquote>
<pre class="highlight shell"><code><span class="o">[{</span><span class="s2">"status"</span>:<span class="s2">"success"</span>,<span class="s2">"code"</span>:200,<span class="s2">"result"</span>:<span class="o">{</span><span class="s2">"text"</span>:<span class="s2">"Bowling tonight? or kung-fu?"</span>,<span class="s2">"peoplepattern"</span>:<span class="o">{</span><span class="s2">"interests"</span>:[<span class="s2">"leisure_sports"</span><span class="o">]</span>,<span class="s2">"languages"</span>:[<span class="s2">"en"</span><span class="o">]</span>,<span class="s2">"sentiment"</span>:<span class="s2">"neutral"</span>,<span class="s2">"interestingness"</span>:0.7085509373685894<span class="o">}}}</span>,<span class="o">{</span><span class="s2">"status"</span>:<span class="s2">"success"</span>,<span class="s2">"code"</span>:200,<span class="s2">"result"</span>:<span class="o">{</span><span class="s2">"text"</span>:<span class="s2">"I love bowling with friends"</span>,<span class="s2">"peoplepattern"</span>:<span class="o">{</span><span class="s2">"interests"</span>:[<span class="s2">"leisure_sports"</span><span class="o">]</span>,<span class="s2">"languages"</span>:[<span class="s2">"en"</span><span class="o">]</span>,<span class="s2">"sentiment"</span>:<span class="s2">"positive"</span>,<span class="s2">"interestingness"</span>:0.5522605037296693<span class="o">}}}</span>,<span class="o">{</span><span class="s2">"status"</span>:<span class="s2">"success"</span>,<span class="s2">"code"</span>:200,<span class="s2">"result"</span>:<span class="o">{</span><span class="s2">"text"</span>:<span class="s2">"But I also love eating at home with the family"</span>,<span class="s2">"peoplepattern"</span>:<span class="o">{</span><span class="s2">"interests"</span>:[<span class="s2">"family"</span><span class="o">]</span>,<span class="s2">"languages"</span>:[<span class="s2">"en"</span><span class="o">]</span>,<span class="s2">"sentiment"</span>:<span class="s2">"positive"</span>,<span class="s2">"interestingness"</span>:0.5893891902193789<span class="o">}}}]</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json; charset=utf-8</span>
<span class="na">X-Request-Id</span><span class="p">:</span> <span class="s">80990215-d2f5-4dbd-836c-9bb3f3613539</span>

<span class="p">[{</span><span class="nt">"status"</span><span class="p">:</span><span class="s2">"success"</span><span class="p">,</span><span class="nt">"code"</span><span class="p">:</span><span class="mi">200</span><span class="p">,</span><span class="nt">"result"</span><span class="p">:{</span><span class="nt">"text"</span><span class="p">:</span><span class="s2">"Bowling tonight? or kung-fu?"</span><span class="p">,</span><span class="nt">"peoplepattern"</span><span class="p">:{</span><span class="nt">"interests"</span><span class="p">:[</span><span class="s2">"leisure_sports"</span><span class="p">],</span><span class="nt">"languages"</span><span class="p">:[</span><span class="s2">"en"</span><span class="p">],</span><span class="nt">"sentiment"</span><span class="p">:</span><span class="s2">"neutral"</span><span class="p">,</span><span class="nt">"interestingness"</span><span class="p">:</span><span class="mf">0.7085509373685894</span><span class="p">}}},{</span><span class="nt">"status"</span><span class="p">:</span><span class="s2">"success"</span><span class="p">,</span><span class="nt">"code"</span><span class="p">:</span><span class="mi">200</span><span class="p">,</span><span class="nt">"result"</span><span class="p">:{</span><span class="nt">"text"</span><span class="p">:</span><span class="s2">"I love bowling with friends"</span><span class="p">,</span><span class="nt">"peoplepattern"</span><span class="p">:{</span><span class="nt">"interests"</span><span class="p">:[</span><span class="s2">"leisure_sports"</span><span class="p">],</span><span class="nt">"languages"</span><span class="p">:[</span><span class="s2">"en"</span><span class="p">],</span><span class="nt">"sentiment"</span><span class="p">:</span><span class="s2">"positive"</span><span class="p">,</span><span class="nt">"interestingness"</span><span class="p">:</span><span class="mf">0.5522605037296693</span><span class="p">}}},{</span><span class="nt">"status"</span><span class="p">:</span><span class="s2">"success"</span><span class="p">,</span><span class="nt">"code"</span><span class="p">:</span><span class="mi">200</span><span class="p">,</span><span class="nt">"result"</span><span class="p">:{</span><span class="nt">"text"</span><span class="p">:</span><span class="s2">"But I also love eating at home with the family"</span><span class="p">,</span><span class="nt">"peoplepattern"</span><span class="p">:{</span><span class="nt">"interests"</span><span class="p">:[</span><span class="s2">"family"</span><span class="p">],</span><span class="nt">"languages"</span><span class="p">:[</span><span class="s2">"en"</span><span class="p">],</span><span class="nt">"sentiment"</span><span class="p">:</span><span class="s2">"positive"</span><span class="p">,</span><span class="nt">"interestingness"</span><span class="p">:</span><span class="mf">0.5893891902193789</span><span class="p">}}}]</span><span class="w">
</span></code></pre>

<p>When passing a batch of posts to the enrich post endpoint,
the client receives a batch of responses. Since each post request
may succeed or fail individually, the batch of responses included
their own meta-data with respect to the response status.</p>

<aside class="notice">
As with the single-post call, batches of Twitter API format &ldquo;tweets&rdquo;
are also supported.
</aside>

          <h1 id="lookup-api">Lookup API</h1>

<h2 id="look-up-single-profile">Look up single profile</h2>

<h3 id="get-pattern">GET pattern</h3>
<pre class="highlight shell"><code>curl <span class="s1">'https://api.peoplepattern.com/pdb/lookup?id=twitter:14132201'</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: secretkey"</span> <span class="se">\</span>
  -H<span class="s1">'Accept: application/json'</span> 
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/pdb/lookup?id=twitter:14132201</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.peoplepattern.com</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Authoriation</span><span class="p">:</span> <span class="s">secretkey</span>
</code></pre>

<blockquote>
<p>Response will look like:</p>
</blockquote>
<pre class="highlight shell"><code><span class="o">{</span><span class="s2">"enrichments"</span>:<span class="o">{</span><span class="s2">"demographics"</span>:<span class="o">{</span><span class="s2">"gender"</span>:<span class="s2">"male"</span>,<span class="s2">"race"</span>:<span class="s2">"east-asian"</span>,<span class="s2">"birthyear"</span>:1985<span class="o">}</span>,<span class="s2">"vcard"</span>:<span class="o">{</span><span class="s2">"name"</span>:<span class="o">{</span><span class="s2">"fn"</span>:<span class="s2">"Kenneth Cho"</span><span class="o">}}</span>,<span class="s2">"account_type"</span>:<span class="s2">"person"</span>,<span class="s2">"version"</span>:<span class="s2">"0.10"</span>,<span class="s2">"interestingness"</span>:0.977957927320845<span class="o">}</span>,<span class="s2">"</span><span class="nv">$schema</span><span class="s2">"</span>:<span class="s2">"http://streams.peoplepattern.com.s3-website-us-east-1.amazonaws.com/streams-internal/0.3.7-PP-SNAPSHOT/pdb-pojo/pdb-profile.json"</span>,<span class="s2">"twitter"</span>:<span class="o">{</span><span class="s2">"statuses_count"</span>:1995,<span class="s2">"followers_count"</span>:2162,<span class="s2">"friends_count"</span>:1905,<span class="s2">"lang"</span>:<span class="s2">"en"</span>,<span class="s2">"screen_name"</span>:<span class="s2">"chonuff"</span>,<span class="s2">"favourites_count"</span>:375,<span class="s2">"listed_count"</span>:132<span class="o">}</span>,<span class="s2">"displayName"</span>:<span class="s2">"Kenneth Cho"</span>,<span class="s2">"screenName"</span>:<span class="s2">"chonuff"</span>,<span class="s2">"image"</span>:<span class="o">{</span><span class="s2">"url"</span>:<span class="s2">"http://pbs.twimg.com/profile_images/3496867607/e586594c7088c18b423c19716275859b_normal.jpeg"</span><span class="o">}</span>,<span class="s2">"objectType"</span>:<span class="s2">"profile"</span>,<span class="s2">"createdAt"</span>:<span class="s2">"2016-03-16T18:03:20.429Z"</span>,<span class="s2">"id"</span>:<span class="s2">"twitter:14132201"</span>,<span class="s2">"displayScreenName"</span>:<span class="s2">"chonuff"</span>,<span class="s2">"updatedAt"</span>:<span class="s2">"2016-03-16T18:03:20.429Z"</span>,<span class="s2">"summary"</span>:<span class="s2">"Co-founder of @PeoplePattern &amp; @Spredfast. Father of 2 bon vivants. Played college ball &amp; the clarinet."</span>,<span class="s2">"indexedAt"</span>:<span class="s2">"2015-11-04T05:24:24.739Z"</span>,<span class="s2">"provider"</span>:<span class="o">{</span><span class="s2">"id"</span>:<span class="s2">"twitter"</span><span class="o">}</span>,<span class="s2">"published"</span>:<span class="s2">"2016-03-16T18:03:20.429Z"</span>,<span class="s2">"url"</span>:<span class="s2">"http://t.co/iedzuEKtSM"</span>,<span class="s2">"location"</span>:<span class="s2">"Austin"</span><span class="o">}</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">1088</span>

<span class="p">{</span><span class="nt">"enrichments"</span><span class="p">:{</span><span class="nt">"demographics"</span><span class="p">:{</span><span class="nt">"gender"</span><span class="p">:</span><span class="s2">"male"</span><span class="p">,</span><span class="nt">"race"</span><span class="p">:</span><span class="s2">"east-asian"</span><span class="p">,</span><span class="nt">"birthyear"</span><span class="p">:</span><span class="mi">1985</span><span class="p">},</span><span class="nt">"vcard"</span><span class="p">:{</span><span class="nt">"name"</span><span class="p">:{</span><span class="nt">"fn"</span><span class="p">:</span><span class="s2">"Kenneth Cho"</span><span class="p">}},</span><span class="nt">"account_type"</span><span class="p">:</span><span class="s2">"person"</span><span class="p">,</span><span class="nt">"version"</span><span class="p">:</span><span class="s2">"0.10"</span><span class="p">,</span><span class="nt">"interestingness"</span><span class="p">:</span><span class="mf">0.977957927320845</span><span class="p">},</span><span class="nt">"$schema"</span><span class="p">:</span><span class="s2">"http://streams.peoplepattern.com.s3-website-us-east-1.amazonaws.com/streams-internal/0.3.7-PP-SNAPSHOT/pdb-pojo/pdb-profile.json"</span><span class="p">,</span><span class="nt">"twitter"</span><span class="p">:{</span><span class="nt">"statuses_count"</span><span class="p">:</span><span class="mi">1995</span><span class="p">,</span><span class="nt">"followers_count"</span><span class="p">:</span><span class="mi">2162</span><span class="p">,</span><span class="nt">"friends_count"</span><span class="p">:</span><span class="mi">1905</span><span class="p">,</span><span class="nt">"lang"</span><span class="p">:</span><span class="s2">"en"</span><span class="p">,</span><span class="nt">"screen_name"</span><span class="p">:</span><span class="s2">"chonuff"</span><span class="p">,</span><span class="nt">"favourites_count"</span><span class="p">:</span><span class="mi">375</span><span class="p">,</span><span class="nt">"listed_count"</span><span class="p">:</span><span class="mi">132</span><span class="p">},</span><span class="nt">"displayName"</span><span class="p">:</span><span class="s2">"Kenneth Cho"</span><span class="p">,</span><span class="nt">"screenName"</span><span class="p">:</span><span class="s2">"chonuff"</span><span class="p">,</span><span class="nt">"image"</span><span class="p">:{</span><span class="nt">"url"</span><span class="p">:</span><span class="s2">"http://pbs.twimg.com/profile_images/3496867607/e586594c7088c18b423c19716275859b_normal.jpeg"</span><span class="p">},</span><span class="nt">"objectType"</span><span class="p">:</span><span class="s2">"profile"</span><span class="p">,</span><span class="nt">"createdAt"</span><span class="p">:</span><span class="s2">"2016-03-16T18:03:20.429Z"</span><span class="p">,</span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"twitter:14132201"</span><span class="p">,</span><span class="nt">"displayScreenName"</span><span class="p">:</span><span class="s2">"chonuff"</span><span class="p">,</span><span class="nt">"updatedAt"</span><span class="p">:</span><span class="s2">"2016-03-16T18:03:20.429Z"</span><span class="p">,</span><span class="nt">"summary"</span><span class="p">:</span><span class="s2">"Co-founder of @PeoplePattern &amp; @Spredfast. Father of 2 bon vivants. Played college ball &amp; the clarinet."</span><span class="p">,</span><span class="nt">"indexedAt"</span><span class="p">:</span><span class="s2">"2015-11-04T05:24:24.739Z"</span><span class="p">,</span><span class="nt">"provider"</span><span class="p">:{</span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"twitter"</span><span class="p">},</span><span class="nt">"published"</span><span class="p">:</span><span class="s2">"2016-03-16T18:03:20.429Z"</span><span class="p">,</span><span class="nt">"url"</span><span class="p">:</span><span class="s2">"http://t.co/iedzuEKtSM"</span><span class="p">,</span><span class="nt">"location"</span><span class="p">:</span><span class="s2">"Austin"</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Retrieve a single profile from the Lookup API by query a social
profile identifier. Social profile identifiers are of the form</p>

<p>&rsquo;[service]:[id]&rsquo;</p>

<p>For example:</p>

<p>twitter:1234567</p>

<p>Our currently supported services are</p>

<ul>
<li><code class="prettyprint">twitter</code></li>
<li><code class="prettyprint">instagram</code></li>
</ul>

<aside class="notice">
Batches of profiles can be retrived by submitting a list of ids
</aside>

          <h1 id="search-api">Search API</h1>

<h2 id="search-the-portrait-database-pdb">Search the Portrait Database (Pdb)</h2>

<h3 id="get-pattern">GET pattern</h3>
<pre class="highlight shell"><code>curl <span class="s1">'/pdb/search?queryString=joe'</span>
  -H <span class="s2">"Authorization: secretkey"</span> <span class="se">\</span>
  -H<span class="s1">'Accept: application/json'</span> 
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/pdb/search?queryString=joe</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.peoplepattern.com</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Authoriation</span><span class="p">:</span> <span class="s">secretkey</span>
</code></pre>

<blockquote>
<p>Response will look like:</p>
</blockquote>
<pre class="highlight shell"><code><span class="o">[{</span><span class="s2">"</span><span class="nv">$schema</span><span class="s2">"</span>:<span class="s2">"http://streams.peoplepattern.com.s3-website-us-east-1.amazonaws.com/streams-internal/0.3.7-PP-SNAPSHOT/pdb-pojo/pdb-profile.json"</span>,<span class="s2">"twitter"</span>:<span class="o">{</span><span class="s2">"statuses_count"</span>:708,<span class="s2">"followers_count"</span>:48,<span class="s2">"friends_count"</span>:86,<span class="s2">"lang"</span>:<span class="s2">"en"</span>,<span class="s2">"listed_count"</span>:0,<span class="s2">"screen_name"</span>:<span class="s2">"jszulueta"</span>,<span class="s2">"favourites_count"</span>:3<span class="o">}</span>,<span class="s2">"enrichments"</span>:<span class="o">{</span><span class="s2">"psychographics"</span>:<span class="o">{</span><span class="s2">"languages"</span>:<span class="o">{</span><span class="s2">"android"</span>:5,<span class="s2">"ios"</span>:6<span class="o">}</span>,<span class="s2">"interests"</span>:<span class="o">{</span><span class="s2">"business"</span>:2,<span class="s2">"health_care"</span>:3,<span class="s2">"military"</span>:6,<span class="s2">"consumer_electronics"</span>:5,<span class="s2">"beverages"</span>:3,<span class="s2">"computers"</span>:2,<span class="s2">"other_sports"</span>:2,<span class="s2">"science"</span>:3,<span class="s2">"crafts"</span>:1,<span class="s2">"design"</span>:3,<span class="s2">"religion"</span>:3,<span class="s2">"shopping"</span>:4,<span class="s2">"food"</span>:6,<span class="s2">"local_life"</span>:11,<span class="s2">"travel"</span>:22,<span class="s2">"multimedia"</span>:52,<span class="s2">"family"</span>:2,<span class="s2">"beauty"</span>:1,<span class="s2">"environmentalism"</span>:2,<span class="s2">"humor"</span>:4<span class="o">}</span>,<span class="s2">"sentiment"</span>:<span class="o">{</span><span class="s2">"neutral"</span>:1,<span class="s2">"positive"</span>:126<span class="o">}</span>,<span class="s2">"mentions"</span>:[<span class="s2">"twitter:122302784"</span>,<span class="s2">"twitter:14120151"</span>,<span class="s2">"twitter:2166412230"</span>,<span class="s2">"twitter:960481315"</span>,<span class="s2">"twitter:71983360"</span>,<span class="s2">"twitter:106915372"</span>,<span class="s2">"twitter:14511951"</span>,<span class="s2">"twitter:15092616"</span>,<span class="s2">"twitter:2576461322"</span>,<span class="s2">"twitter:326380075"</span>,<span class="s2">"twitter:347258974"</span>,<span class="s2">"twitter:3746042353"</span>,<span class="s2">"twitter:871351657"</span><span class="o">]</span>,<span class="s2">"hashtags"</span>:[<span class="s2">"3d"</span>,<span class="s2">"fps"</span>,<span class="s2">"mobile"</span>,<span class="s2">"pg3d"</span>,<span class="s2">"pixelgun"</span>,<span class="s2">"pixelgun3d"</span>,<span class="s2">"shooter"</span>,<span class="s2">"HiddenRisks"</span>,<span class="s2">"TheSMStoreMakati3DS"</span>,<span class="s2">"WaltDisney"</span>,<span class="s2">"gifersation"</span><span class="o">]}</span>,<span class="s2">"demographics"</span>:<span class="o">{</span><span class="s2">"race"</span>:<span class="s2">"white"</span>,<span class="s2">"birthyear"</span>:1999,<span class="s2">"gender"</span>:<span class="s2">"female"</span><span class="o">}</span>,<span class="s2">"account_type"</span>:<span class="s2">"person"</span>,<span class="s2">"version"</span>:<span class="s2">"0.10"</span>,<span class="s2">"vcard"</span>:<span class="o">{</span><span class="s2">"name"</span>:<span class="o">{</span><span class="s2">"fn"</span>:<span class="s2">"Joe Zulueta"</span><span class="o">}}</span>,<span class="s2">"interestingness"</span>:0.8452886615186165<span class="o">}</span>,<span class="s2">"screenName"</span>:<span class="s2">"jszulueta"</span>,<span class="s2">"objectType"</span>:<span class="s2">"profile"</span>,<span class="s2">"id"</span>:<span class="s2">"twitter:130573602"</span>,<span class="s2">"displayScreenName"</span>:<span class="s2">"jszulueta"</span>,<span class="s2">"provider"</span>:<span class="o">{</span><span class="s2">"id"</span>:<span class="s2">"twitter"</span><span class="o">}</span>,<span class="s2">"published"</span>:<span class="s2">"2010-04-07T17:56:08.000Z"</span>,<span class="s2">"displayName"</span>:<span class="s2">" joe"</span>,<span class="s2">"image"</span>:<span class="o">{</span><span class="s2">"url"</span>:<span class="s2">"http://pbs.twimg.com/profile_images/491912407841644544/7dD2PrDr_normal.jpeg"</span><span class="o">}</span>,<span class="s2">"summary"</span>:<span class="s2">"joe joe joe joe joe joe joe joe joe joe joe joe joe joe joe joe joe joe joe joe joe joe joe joe joe joe joe joe joe joe joe joe joe joe joe joe joe joe joe joe"</span>,<span class="s2">"indexedAt"</span>:<span class="s2">"2015-11-03T23:31:29.870Z"</span>,<span class="s2">"location"</span>:<span class="s2">"Manila"</span><span class="o">}]</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">1088</span>

<span class="p">[{</span><span class="nt">"$schema"</span><span class="p">:</span><span class="s2">"http://streams.peoplepattern.com.s3-website-us-east-1.amazonaws.com/streams-internal/0.3.7-PP-SNAPSHOT/pdb-pojo/pdb-profile.json"</span><span class="p">,</span><span class="nt">"twitter"</span><span class="p">:{</span><span class="nt">"statuses_count"</span><span class="p">:</span><span class="mi">708</span><span class="p">,</span><span class="nt">"followers_count"</span><span class="p">:</span><span class="mi">48</span><span class="p">,</span><span class="nt">"friends_count"</span><span class="p">:</span><span class="mi">86</span><span class="p">,</span><span class="nt">"lang"</span><span class="p">:</span><span class="s2">"en"</span><span class="p">,</span><span class="nt">"listed_count"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="nt">"screen_name"</span><span class="p">:</span><span class="s2">"jszulueta"</span><span class="p">,</span><span class="nt">"favourites_count"</span><span class="p">:</span><span class="mi">3</span><span class="p">},</span><span class="nt">"enrichments"</span><span class="p">:{</span><span class="nt">"psychographics"</span><span class="p">:{</span><span class="nt">"languages"</span><span class="p">:{</span><span class="nt">"android"</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span><span class="nt">"ios"</span><span class="p">:</span><span class="mi">6</span><span class="p">},</span><span class="nt">"interests"</span><span class="p">:{</span><span class="nt">"business"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="nt">"health_care"</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span><span class="nt">"military"</span><span class="p">:</span><span class="mi">6</span><span class="p">,</span><span class="nt">"consumer_electronics"</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span><span class="nt">"beverages"</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span><span class="nt">"computers"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="nt">"other_sports"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="nt">"science"</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span><span class="nt">"crafts"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="nt">"design"</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span><span class="nt">"religion"</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span><span class="nt">"shopping"</span><span class="p">:</span><span class="mi">4</span><span class="p">,</span><span class="nt">"food"</span><span class="p">:</span><span class="mi">6</span><span class="p">,</span><span class="nt">"local_life"</span><span class="p">:</span><span class="mi">11</span><span class="p">,</span><span class="nt">"travel"</span><span class="p">:</span><span class="mi">22</span><span class="p">,</span><span class="nt">"multimedia"</span><span class="p">:</span><span class="mi">52</span><span class="p">,</span><span class="nt">"family"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="nt">"beauty"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="nt">"environmentalism"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="nt">"humor"</span><span class="p">:</span><span class="mi">4</span><span class="p">},</span><span class="nt">"sentiment"</span><span class="p">:{</span><span class="nt">"neutral"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="nt">"positive"</span><span class="p">:</span><span class="mi">126</span><span class="p">},</span><span class="nt">"mentions"</span><span class="p">:[</span><span class="s2">"twitter:122302784"</span><span class="p">,</span><span class="s2">"twitter:14120151"</span><span class="p">,</span><span class="s2">"twitter:2166412230"</span><span class="p">,</span><span class="s2">"twitter:960481315"</span><span class="p">,</span><span class="s2">"twitter:71983360"</span><span class="p">,</span><span class="s2">"twitter:106915372"</span><span class="p">,</span><span class="s2">"twitter:14511951"</span><span class="p">,</span><span class="s2">"twitter:15092616"</span><span class="p">,</span><span class="s2">"twitter:2576461322"</span><span class="p">,</span><span class="s2">"twitter:326380075"</span><span class="p">,</span><span class="s2">"twitter:347258974"</span><span class="p">,</span><span class="s2">"twitter:3746042353"</span><span class="p">,</span><span class="s2">"twitter:871351657"</span><span class="p">],</span><span class="nt">"hashtags"</span><span class="p">:[</span><span class="s2">"3d"</span><span class="p">,</span><span class="s2">"fps"</span><span class="p">,</span><span class="s2">"mobile"</span><span class="p">,</span><span class="s2">"pg3d"</span><span class="p">,</span><span class="s2">"pixelgun"</span><span class="p">,</span><span class="s2">"pixelgun3d"</span><span class="p">,</span><span class="s2">"shooter"</span><span class="p">,</span><span class="s2">"HiddenRisks"</span><span class="p">,</span><span class="s2">"TheSMStoreMakati3DS"</span><span class="p">,</span><span class="s2">"WaltDisney"</span><span class="p">,</span><span class="s2">"gifersation"</span><span class="p">]},</span><span class="nt">"demographics"</span><span class="p">:{</span><span class="nt">"race"</span><span class="p">:</span><span class="s2">"white"</span><span class="p">,</span><span class="nt">"birthyear"</span><span class="p">:</span><span class="mi">1999</span><span class="p">,</span><span class="nt">"gender"</span><span class="p">:</span><span class="s2">"female"</span><span class="p">},</span><span class="nt">"account_type"</span><span class="p">:</span><span class="s2">"person"</span><span class="p">,</span><span class="nt">"version"</span><span class="p">:</span><span class="s2">"0.10"</span><span class="p">,</span><span class="nt">"vcard"</span><span class="p">:{</span><span class="nt">"name"</span><span class="p">:{</span><span class="nt">"fn"</span><span class="p">:</span><span class="s2">"Joe Zulueta"</span><span class="p">}},</span><span class="nt">"interestingness"</span><span class="p">:</span><span class="mf">0.8452886615186165</span><span class="p">},</span><span class="nt">"screenName"</span><span class="p">:</span><span class="s2">"jszulueta"</span><span class="p">,</span><span class="nt">"objectType"</span><span class="p">:</span><span class="s2">"profile"</span><span class="p">,</span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"twitter:130573602"</span><span class="p">,</span><span class="nt">"displayScreenName"</span><span class="p">:</span><span class="s2">"jszulueta"</span><span class="p">,</span><span class="nt">"provider"</span><span class="p">:{</span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"twitter"</span><span class="p">},</span><span class="nt">"published"</span><span class="p">:</span><span class="s2">"2010-04-07T17:56:08.000Z"</span><span class="p">,</span><span class="nt">"displayName"</span><span class="p">:</span><span class="s2">" joe"</span><span class="p">,</span><span class="nt">"image"</span><span class="p">:{</span><span class="nt">"url"</span><span class="p">:</span><span class="s2">"http://pbs.twimg.com/profile_images/491912407841644544/7dD2PrDr_normal.jpeg"</span><span class="p">},</span><span class="nt">"summary"</span><span class="p">:</span><span class="s2">"joe joe joe joe joe joe joe joe joe joe joe joe joe joe joe joe joe joe joe joe joe joe joe joe joe joe joe joe joe joe joe joe joe joe joe joe joe joe joe joe"</span><span class="p">,</span><span class="nt">"indexedAt"</span><span class="p">:</span><span class="s2">"2015-11-03T23:31:29.870Z"</span><span class="p">,</span><span class="nt">"location"</span><span class="p">:</span><span class="s2">"Manila"</span><span class="p">}]</span><span class="w">
</span></code></pre>

<p>Search the Pdb by defining a search string using specific demographic and psychographic criteria.  The search syntax is based on <a href="https://lucene.apache.org/core/2_9_4/queryparsersyntax.html">Lucene</a></p>

          <h1 id="aggregate-api">Aggregate API</h1>

<h2 id="retrieve-aggregate-insights">Retrieve aggregate insights</h2>

<h3 id="get-pattern">GET pattern</h3>
<pre class="highlight shell"><code>curl <span class="s1">'/pdb/aggregate?type=profile&amp;fields=posts.interests&amp;ids=twitter:201892491'</span>
  -H <span class="s2">"Authorization: secretkey"</span> <span class="se">\</span>
  -H<span class="s1">'Accept: application/json'</span> 
</code></pre>
<pre class="highlight http"><code><span class="nf">GET</span> <span class="nn">/pdb/aggregate?type=profile&amp;fields=posts.interests&amp;ids=twitter:201892491</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.peoplepattern.com</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Authoriation</span><span class="p">:</span> <span class="s">secretkey</span>
</code></pre>

<blockquote>
<p>Response will look like</p>
</blockquote>
<pre class="highlight shell"><code> <span class="o">{</span><span class="s2">"posts.interests"</span>:<span class="o">{</span><span class="s2">"home_and_garden"</span>:0.00632634510034411,<span class="s2">"tv"</span>:0.017641091417461792,<span class="s2">"beauty"</span>:0.01739964801038861,<span class="s2">"movies"</span>:0.021844295292726947,<span class="s2">"leisure_sports"</span>:0.009329955966575574,<span class="s2">"humor"</span>:0.058345876185155875,<span class="s2">"music"</span>:0.04485514027861094,<span class="s2">"charity"</span>:0.015389966992934849,<span class="s2">"fitness"</span>:0.0165814233367729,<span class="s2">"health_care"</span>:0.021527699213594077,<span class="s2">"military"</span>:0.013034320299285453,<span class="s2">"animals"</span>:0.020148544771305524,<span class="s2">"dance"</span>:0.012551060067223207,<span class="s2">"parenting"</span>:0.023642682461784918,<span class="s2">"shopping"</span>:0.01413827847825423,<span class="s2">"beverages"</span>:0.01989591944350184,<span class="s2">"higher_education"</span>:0.01992083188540363,<span class="s2">"crafts"</span>:0.005263564354310484,<span class="s2">"nutrition"</span>:0.008217999185114544,<span class="s2">"extreme_sports"</span>:0.0046040907095506066,<span class="s2">"science"</span>:0.011737067154455726,<span class="s2">"toys_and_games"</span>:0.004699628710404084,<span class="s2">"automotive"</span>:0.016683389361043143,<span class="s2">"other_sports"</span>:0.01786744915770121,<span class="s2">"politics"</span>:0.03622886489314473,<span class="s2">"small_business"</span>:0.010401117767321753,<span class="s2">"environmentalism"</span>:0.010210921567875668,<span class="s2">"design"</span>:0.0062678792518393875,<span class="s2">"dating"</span>:0.022562492611140666,<span class="s2">"cooking"</span>:0.01541533277159928,<span class="s2">"computers"</span>:0.012154950526783446,<span class="s2">"local_life"</span>:0.01371711611672098,<span class="s2">"art"</span>:0.012431124811468516,<span class="s2">"gaming"</span>:0.018048887641435224,<span class="s2">"business"</span>:0.02347847262822203,<span class="s2">"current_events"</span>:0.02491274929978587,<span class="s2">"consumer_electronics"</span>:0.018235434213545867,<span class="s2">"reading"</span>:0.0182121319626697,<span class="s2">"food"</span>:0.030091208884950964,<span class="s2">"outdoor_recreation"</span>:0.006174227335769481,<span class="s2">"religion"</span>:0.040720771316832355,<span class="s2">"marketing"</span>:0.010582783498559166,<span class="s2">"multimedia"</span>:0.032546506041154,<span class="s2">"major_sports"</span>:0.059709128166831875,<span class="s2">"school_life"</span>:0.04198742318776386,<span class="s2">"family"</span>:0.04478017593705101,<span class="s2">"travel"</span>:0.025614312842226965,<span class="s2">"finance"</span>:0.020140523235578984,<span class="s2">"pop_culture"</span>:0.007421613436708357,<span class="s2">"fashion"</span>:0.0163075822191156<span class="o">}}</span>
</code></pre>
<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">1088</span>

<span class="p">{</span><span class="nt">"posts.interests"</span><span class="p">:{</span><span class="nt">"home_and_garden"</span><span class="p">:</span><span class="mf">0.00632634510034411</span><span class="p">,</span><span class="nt">"tv"</span><span class="p">:</span><span class="mf">0.017641091417461792</span><span class="p">,</span><span class="nt">"beauty"</span><span class="p">:</span><span class="mf">0.01739964801038861</span><span class="p">,</span><span class="nt">"movies"</span><span class="p">:</span><span class="mf">0.021844295292726947</span><span class="p">,</span><span class="nt">"leisure_sports"</span><span class="p">:</span><span class="mf">0.009329955966575574</span><span class="p">,</span><span class="nt">"humor"</span><span class="p">:</span><span class="mf">0.058345876185155875</span><span class="p">,</span><span class="nt">"music"</span><span class="p">:</span><span class="mf">0.04485514027861094</span><span class="p">,</span><span class="nt">"charity"</span><span class="p">:</span><span class="mf">0.015389966992934849</span><span class="p">,</span><span class="nt">"fitness"</span><span class="p">:</span><span class="mf">0.0165814233367729</span><span class="p">,</span><span class="nt">"health_care"</span><span class="p">:</span><span class="mf">0.021527699213594077</span><span class="p">,</span><span class="nt">"military"</span><span class="p">:</span><span class="mf">0.013034320299285453</span><span class="p">,</span><span class="nt">"animals"</span><span class="p">:</span><span class="mf">0.020148544771305524</span><span class="p">,</span><span class="nt">"dance"</span><span class="p">:</span><span class="mf">0.012551060067223207</span><span class="p">,</span><span class="nt">"parenting"</span><span class="p">:</span><span class="mf">0.023642682461784918</span><span class="p">,</span><span class="nt">"shopping"</span><span class="p">:</span><span class="mf">0.01413827847825423</span><span class="p">,</span><span class="nt">"beverages"</span><span class="p">:</span><span class="mf">0.01989591944350184</span><span class="p">,</span><span class="nt">"higher_education"</span><span class="p">:</span><span class="mf">0.01992083188540363</span><span class="p">,</span><span class="nt">"crafts"</span><span class="p">:</span><span class="mf">0.005263564354310484</span><span class="p">,</span><span class="nt">"nutrition"</span><span class="p">:</span><span class="mf">0.008217999185114544</span><span class="p">,</span><span class="nt">"extreme_sports"</span><span class="p">:</span><span class="mf">0.0046040907095506066</span><span class="p">,</span><span class="nt">"science"</span><span class="p">:</span><span class="mf">0.011737067154455726</span><span class="p">,</span><span class="nt">"toys_and_games"</span><span class="p">:</span><span class="mf">0.004699628710404084</span><span class="p">,</span><span class="nt">"automotive"</span><span class="p">:</span><span class="mf">0.016683389361043143</span><span class="p">,</span><span class="nt">"other_sports"</span><span class="p">:</span><span class="mf">0.01786744915770121</span><span class="p">,</span><span class="nt">"politics"</span><span class="p">:</span><span class="mf">0.03622886489314473</span><span class="p">,</span><span class="nt">"small_business"</span><span class="p">:</span><span class="mf">0.010401117767321753</span><span class="p">,</span><span class="nt">"environmentalism"</span><span class="p">:</span><span class="mf">0.010210921567875668</span><span class="p">,</span><span class="nt">"design"</span><span class="p">:</span><span class="mf">0.0062678792518393875</span><span class="p">,</span><span class="nt">"dating"</span><span class="p">:</span><span class="mf">0.022562492611140666</span><span class="p">,</span><span class="nt">"cooking"</span><span class="p">:</span><span class="mf">0.01541533277159928</span><span class="p">,</span><span class="nt">"computers"</span><span class="p">:</span><span class="mf">0.012154950526783446</span><span class="p">,</span><span class="nt">"local_life"</span><span class="p">:</span><span class="mf">0.01371711611672098</span><span class="p">,</span><span class="nt">"art"</span><span class="p">:</span><span class="mf">0.012431124811468516</span><span class="p">,</span><span class="nt">"gaming"</span><span class="p">:</span><span class="mf">0.018048887641435224</span><span class="p">,</span><span class="nt">"business"</span><span class="p">:</span><span class="mf">0.02347847262822203</span><span class="p">,</span><span class="nt">"current_events"</span><span class="p">:</span><span class="mf">0.02491274929978587</span><span class="p">,</span><span class="nt">"consumer_electronics"</span><span class="p">:</span><span class="mf">0.018235434213545867</span><span class="p">,</span><span class="nt">"reading"</span><span class="p">:</span><span class="mf">0.0182121319626697</span><span class="p">,</span><span class="nt">"food"</span><span class="p">:</span><span class="mf">0.030091208884950964</span><span class="p">,</span><span class="nt">"outdoor_recreation"</span><span class="p">:</span><span class="mf">0.006174227335769481</span><span class="p">,</span><span class="nt">"religion"</span><span class="p">:</span><span class="mf">0.040720771316832355</span><span class="p">,</span><span class="nt">"marketing"</span><span class="p">:</span><span class="mf">0.010582783498559166</span><span class="p">,</span><span class="nt">"multimedia"</span><span class="p">:</span><span class="mf">0.032546506041154</span><span class="p">,</span><span class="nt">"major_sports"</span><span class="p">:</span><span class="mf">0.059709128166831875</span><span class="p">,</span><span class="nt">"school_life"</span><span class="p">:</span><span class="mf">0.04198742318776386</span><span class="p">,</span><span class="nt">"family"</span><span class="p">:</span><span class="mf">0.04478017593705101</span><span class="p">,</span><span class="nt">"travel"</span><span class="p">:</span><span class="mf">0.025614312842226965</span><span class="p">,</span><span class="nt">"finance"</span><span class="p">:</span><span class="mf">0.020140523235578984</span><span class="p">,</span><span class="nt">"pop_culture"</span><span class="p">:</span><span class="mf">0.007421613436708357</span><span class="p">,</span><span class="nt">"fashion"</span><span class="p">:</span><span class="mf">0.0163075822191156</span><span class="p">}}</span><span class="w">
</span></code></pre>

<p>This service enables you to get insights at an aggregate level based on an audience.  This service will, for example, return the age range for an entire audience, or the aggregate interests for the same audience.</p>

<h3 id="data-model">Data model</h3>

<table><thead>
<tr>
<th>field</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>enrichments.demographics.account_type</td>
<td>key / value pairs where key is an enumerated account_type, and value is a percentage of population expressed as a double between 0 and 1</td>
</tr>
<tr>
<td>enrichments.demographics.birthyear:</td>
<td>key / value pairs where key is a birthyear, and value is a percentage of population expressed as a double between 0 and 1</td>
</tr>
<tr>
<td>enrichments.demographics.race:</td>
<td>key / value pairs where key is an enumerated race, and value is a percentage of population expressed as a double between 0 and 1</td>
</tr>
<tr>
<td>enrichments.demographics.gender:</td>
<td>key / value pairs where key is an enumerated gender, and value is a percentage of population expressed as a double between 0 and 1</td>
</tr>
<tr>
<td>enrichments.psychographics.interests:</td>
<td>key / value pairs where key is an enumerated interest, and value is a percentage of population expressed as a double between 0 and 1</td>
</tr>
<tr>
<td>enrichments.psychographics.languages:</td>
<td>key / value pairs where key is an enumerated language, and value is a percentage of population expressed as a double between 0 and 1</td>
</tr>
<tr>
<td>enrichments.psychographics.sentiment:</td>
<td>key / value pairs where key is an enumerated sentiment, and value is a percentage of population expressed as a double between 0 and 1</td>
</tr>
<tr>
<td>enrichments.extended.marital_status</td>
<td>key / value pairs where key is an enumerated marital_status, and value is a percentage of population expressed as a double between 0 and 1</td>
</tr>
<tr>
<td>enrichments.extended.parental_status</td>
<td>key / value pairs where key is an enumerated parental_status, and value is a percentage of population expressed as a double between 0 and 1</td>
</tr>
<tr>
<td>enrichments.extended.political_affiliation</td>
<td>key / value pairs where key is an enumerated political_affiliation, and value is a percentage of population expressed as a double between 0 and 1</td>
</tr>
<tr>
<td>enrichments.extended.religion</td>
<td>key / value pairs where key is an enumerated religion, and value is a percentage of population expressed as a double between 0 and 1</td>
</tr>
<tr>
<td>enrichments.extended.sexual_orientation</td>
<td>key / value pairs where key is an enumerated sexual_orientation, and value is a percentage of population expressed as a double between 0 and 1</td>
</tr>
<tr>
<td>enrichments.place.dma</td>
<td>top dmas, expressed as a map, where key is a dma identifier, and value is a percentage of population expressed as a double between 0 and 1</td>
</tr>
<tr>
<td>enrichments.place.city</td>
<td>top cities, expressed as a map, where key is a city identifier, and value is a percentage of population expressed as a double between 0 and 1</td>
</tr>
<tr>
<td>enrichments.place.state:</td>
<td>top states, expressed as a map, where key is a state identifier, and value is a percentage of population expressed as a double between 0 and 1</td>
</tr>
<tr>
<td>enrichments.place.utc_offset</td>
<td>top utc_offsets, expressed as a map, where key is a utc_offset identifier, and value is a percentage of population expressed as a double between 0 and 1</td>
</tr>
<tr>
<td>enrichments.place.time_zone</td>
<td>top time_zones, expressed as a map, where key is a utc_offset identifier, and value is a percentage of population expressed as a double between 0 and 1</td>
</tr>
<tr>
<td>enrichments.place.metro_area</td>
<td>top metro_areas, expressed as a map, where key is a metro_area identifier, and value is a percentage of population expressed as a double between 0 and 1</td>
</tr>
<tr>
<td>enrichments.place.continent</td>
<td>top continents, expressed as a map, where key is a continent identifier, and value is a percentage of population expressed as a double between 0 and 1</td>
</tr>
<tr>
<td>enrichments.place.language</td>
<td>top languages, expressed as a map, where key is a ISO language identifier, and value is a percentage of population expressed as a double between 0 and 1</td>
</tr>
<tr>
<td>enrichments.posts.hashtags</td>
<td>top hashtags, expressed as a map, where key is a hashtag, and value is a percentage of posts expressed as a double between 0 and 1</td>
</tr>
<tr>
<td>enrichments.posts.mentions</td>
<td>top mentioned accounts, expressed as a map, where key is a profile id, and value is a percentage of posts expressed as a double between 0 and 1</td>
</tr>
</tbody></table>

          <h1 id="errors">Errors</h1>

<p>The People Pattern API uses the following error codes:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request &ndash; Malformed request</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Your API key is wrong</td>
</tr>
<tr>
<td>404</td>
<td>Not Found &ndash; The requested resource is not available on the API</td>
</tr>
<tr>
<td>406</td>
<td>Not Acceptable &ndash; You requested a format that isn&rsquo;t json</td>
</tr>
<tr>
<td>410</td>
<td>Gone &ndash; The resource requested has been removed from our servers</td>
</tr>
<tr>
<td>429</td>
<td>Too Many Requests &ndash; Too many concurrent requests are being made by your client</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error &ndash; Service side error &ndash; please contact us a <a href="mailto:api-help@peoplepattern.com">api-help@peoplepattern.com</a></td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable &ndash; Service is offline for maintenance</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">cURL</a>
                <a href="#" data-language-name="json">Output</a>
          </div>
      </div>
    </div>
  </body>
</html>
