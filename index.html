<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>People Pattern Audience Intelligence API</title>
    <link href="images/images/favicon.png" rel="icon" type="image/png" />

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #f8f8f2;
  background-color: #272822;
}
.highlight .err {
  color: #151515;
  background-color: #ac4142;
}
.highlight .c, .highlight .cd, .highlight .cm, .highlight .c1, .highlight .cs {
  color: #505050;
}
.highlight .cp {
  color: #f4bf75;
}
.highlight .nt {
  color: #f4bf75;
}
.highlight .o, .highlight .ow {
  color: #d0d0d0;
}
.highlight .p, .highlight .pi {
  color: #d0d0d0;
}
.highlight .gi {
  color: #90a959;
}
.highlight .gd {
  color: #ac4142;
}
.highlight .gh {
  color: #6a9fb5;
  background-color: #151515;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #aa759f;
}
.highlight .kc {
  color: #d28445;
}
.highlight .kt {
  color: #d28445;
}
.highlight .kd {
  color: #d28445;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #90a959;
}
.highlight .sr {
  color: #75b5aa;
}
.highlight .si {
  color: #8f5536;
}
.highlight .se {
  color: #8f5536;
}
.highlight .nn {
  color: #f4bf75;
}
.highlight .nc {
  color: #f4bf75;
}
.highlight .no {
  color: #f4bf75;
}
.highlight .na {
  color: #6a9fb5;
}
.highlight .m, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mb, .highlight .mx {
  color: #90a959;
}
.highlight .ss {
  color: #90a959;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;shell&quot;,&quot;json&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">cURL</a>
              <a href="#" data-language-name="json">Output</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li>&#169; 2017 People Pattern Corporation</li>
            <li><a href="http://peoplepattern.com">People Pattern Home</a></li>
            <li><a href="https://app.peoplepattern.com/signin">Log in</a></li>
            <li><a href="https://www.peoplepattern.com/privacy.html">Privacy Policy</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="people-pattern-audience-intelligence-api">People Pattern Audience Intelligence API</h1>

<p>The People Pattern Audience Intelligence API provides access People Pattern&rsquo;s
audience intelligence and model predictions as well as our Portrait Database (PDB).
You can query the PDB directly to retrieve portraits with psychographic and demographic attributes pre-appended,
or you can submit profile and post data to the API and get it enriched.  These are the same services and machine
learning-based models which we use in the
<a href="http://app.peoplepattern.com">People Pattern</a> application.</p>

<p>The API described above is stateless, in that we do not
store any data provided by you (the client) for application
functionality &ndash; i.e. the service does not support HTTP PUT,
POST, or DELETE requests, at least in spirit. Rather, the API
provides access to resources we&rsquo;ve compiled and maintain.</p>

<p>For the <a href="#lookup-api">Lookup</a>, <a href="#search-api">Search</a>, <a href="#stitching-api">Stitching</a>, and
<a href="#aggregate-api">Aggregate</a> APIs, the resource accessed is the
PDB itself. For the <a href="#enrich-api">Enrich API</a>, the resource
(or resources) is our predictive models.  The <a href="#execute-api">Execute API</a> fetches
data from a variety of sources which differ by job.</p>

          <h2 id="base-url">Base URL</h2>

<p>All URLs referenced in the documentation have the following base:</p>

<p><code class="prettyprint">https://api.peoplepattern.com</code></p>

<p>The People Pattern API is served over HTTPS. To ensure data privacy, unencrypted HTTP is not supported.</p>

<p>All calls require a Content-Type header.</p>

<p>If you&rsquo;re POSTing json, use:</p>

<p><code class="prettyprint">Content-Type: application/json</code></p>

<p>If you&rsquo;re POSTing hocon, use:</p>

<p><code class="prettyprint">Content-Type: application/hocon</code></p>

<h2 id="authentication">Authentication</h2>

<blockquote>
<p>To authorize, use this code:</p>
</blockquote>
<pre class="highlight shell"><code><span class="c"># With shell, you can just pass the access token as a url parameter with each request</span>
curl https://api.peoplepattern.com/lookup?access_token<span class="o">=</span><span class="nv">$MY_TOKEN</span>

</code></pre>

<blockquote>
<p>Make sure to replace <code class="prettyprint">$MY_TOKEN</code> with your API access token.</p>
</blockquote>

<p>HTTP requests to the API are protected with <a href="https://www.w3.org/2001/sw/Europe/events/foaf-galway/papers/fp/token_based_authentication/">Token Based authentication</a>.  The People Pattern API expects the API security token to be included in all API requests to the server as a url parameter that looks like the following:</p>

<p><code class="prettyprint">access_token=$MY_TOKEN</code></p>

<p>You can find your security token <a href="https://app.peoplepattern.com/edit">on your account page</a>.</p>

<aside class="notice">
You must replace <code>$MY_TOKEN</code> with your personal API security token.
</aside>

          <h1 id="profiles">Profiles</h1>

<p>Profiles are the primary units of information in the PDB.</p>

<h2 id="json-schema">JSON Schema</h2>

<p>Most requests, responses, and objects have JSON schemas available.</p>

<p>Those types and their schema URLs are introduced throughout the documentation like this:</p>

<table><thead>
<tr>
<th>type</th>
<th>schema URL</th>
</tr>
</thead><tbody>
<tr>
<td>PDB Profile</td>
<td><a href="http://apidocs.peoplepattern.com/schemata/pdb-profile.json">http://apidocs.peoplepattern.com/schemata/pdb-profile.json</a></td>
</tr>
</tbody></table>

<p>PDB Profiles are loosely based on the Activity Streams format, with modest structural changes and many enhancements.</p>

<h1 id="enrichments">Enrichments</h1>

<p>The structured enrichments appended to profiles include normalized names, aggregated posts, geolocations, demographics, and psychographic attributes.</p>

<h2 id="json-schemas">JSON Schemas</h2>

<table><thead>
<tr>
<th>type</th>
<th>schema URL</th>
</tr>
</thead><tbody>
<tr>
<td>PDB Profile Enrichments</td>
<td><a href="http://apidocs.peoplepattern.com/schemata/pdb-profile-enrichments.json">http://apidocs.peoplepattern.com/schemata/pdb-profile-enrichments.json</a></td>
</tr>
</tbody></table>

<h3 id="enrichments">enrichments</h3>

<table><thead>
<tr>
<th>field</th>
<th>type</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">account_type</code></td>
<td>enum</td>
<td>predicted account type of the profile. see <a href="#account-type-values">Account Type Vaues</a></td>
</tr>
<tr>
<td><code class="prettyprint">adult</code></td>
<td>boolean</td>
<td>flag for extreme posting of adult content.</td>
</tr>
<tr>
<td><code class="prettyprint">influence</code></td>
<td>number</td>
<td>calculated influencer score (0-100) of the profile.</td>
</tr>
<tr>
<td><code class="prettyprint">interestingness</code></td>
<td>number</td>
<td>calculated interestingness score [0-1] of the profile.</td>
</tr>
<tr>
<td><code class="prettyprint">spam</code></td>
<td>boolean</td>
<td>flag for extreme posting of spam content.</td>
</tr>
</tbody></table>

<h4 id="account-type-values">Account Type values</h4>

<ul>
<li><code class="prettyprint">person</code></li>
<li><code class="prettyprint">organization</code></li>
<li><code class="prettyprint">entertainment</code></li>
</ul>

<h3 id="enrichments-demographics">enrichments.demographics</h3>

<table><thead>
<tr>
<th>field</th>
<th>type</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">birthyear</code></td>
<td>number</td>
<td>predicted or stated birth year of the profile.</td>
</tr>
<tr>
<td><code class="prettyprint">gender</code></td>
<td>string</td>
<td>predicted gender of the profile. see <a href="#gender-values">Gender values</a></td>
</tr>
<tr>
<td><code class="prettyprint">race</code></td>
<td>string</td>
<td>predicted racial identify of the profile. see <a href="#race-values">Race values</a></td>
</tr>
</tbody></table>

<h4 id="gender-values">Gender values</h4>

<ul>
<li><code class="prettyprint">male</code></li>
<li><code class="prettyprint">female</code></li>
</ul>

<h4 id="race-values">Race values</h4>

<ul>
<li><code class="prettyprint">white</code></li>
<li><code class="prettyprint">black</code></li>
<li><code class="prettyprint">east-asian</code></li>
<li><code class="prettyprint">south-asian</code></li>
<li><code class="prettyprint">hispanic</code></li>
<li><code class="prettyprint">middle-eastern</code></li>
<li><code class="prettyprint">no-prediction</code></li>
</ul>

<aside class="notice">
Obviously, the values our predictive models use vastly oversimplify
matters of racial and gender identity; the values chosen align roughly
with demographic categories useful for marketing and public relations
use cases, and should not be taken as anything more than that. With
respect to the racial identity categories, our set of values is a
variation of the US Census categories commonly used in media and
marketing analytics, and as such characterize US social media culture
better than other markets.
</aside>

<h3 id="enrichments-vcard">enrichments.vcard</h3>

<table><thead>
<tr>
<th>field</th>
<th>type</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">name</code></td>
<td><a href="#vcard-name">enrichments.vcard.name</a></td>
<td>name</td>
</tr>
<tr>
<td><code class="prettyprint">email</code></td>
<td>array of string</td>
<td>emails</td>
</tr>
<tr>
<td><code class="prettyprint">tel</code></td>
<td>array of string</td>
<td>telephone numbers</td>
</tr>
</tbody></table>

<h4 id="enrichments-vcard-name">enrichments.vcard.name</h4>

<table><thead>
<tr>
<th>field</th>
<th>type</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">given_name</code></td>
<td>string</td>
<td>given or first name</td>
</tr>
<tr>
<td><code class="prettyprint">family_name</code></td>
<td>string</td>
<td>family name, surname or last name</td>
</tr>
<tr>
<td><code class="prettyprint">fn</code></td>
<td>string</td>
<td>full name for display</td>
</tr>
</tbody></table>

<h3 id="enrichments-place">enrichments.place</h3>

<table><thead>
<tr>
<th>field</th>
<th>type</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">city</code></td>
<td>boolean</td>
<td>true if the place is a city location</td>
</tr>
<tr>
<td><code class="prettyprint">state</code></td>
<td>boolean</td>
<td>true if the place is a state location</td>
</tr>
<tr>
<td><code class="prettyprint">province</code></td>
<td>boolean</td>
<td>true if the place is a province location</td>
</tr>
<tr>
<td><code class="prettyprint">country</code></td>
<td>boolean</td>
<td>true if the place is a country location</td>
</tr>
<tr>
<td><code class="prettyprint">type</code></td>
<td>string</td>
<td>&ldquo;City&rdquo;, &ldquo;State&rdquo;, &ldquo;Provice&rdquo; or &ldquo;Country&rdquo;</td>
</tr>
<tr>
<td><code class="prettyprint">geo_name_id</code></td>
<td>number</td>
<td>the ID number of the place in the Geonames DB</td>
</tr>
<tr>
<td><code class="prettyprint">location</code></td>
<td><a href="#location">location</a></td>
<td>the location record</td>
</tr>
</tbody></table>

<h3 id="enrichments-place-location">enrichments.place.location</h3>

<table><thead>
<tr>
<th>field</th>
<th>type</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">dma</code></td>
<td>string</td>
<td>the designated market area of the location, if applicable</td>
</tr>
<tr>
<td><code class="prettyprint">city</code></td>
<td>string</td>
<td>the city name of the location, if applicable</td>
</tr>
<tr>
<td><code class="prettyprint">state</code></td>
<td>string</td>
<td>the state name of the location, if applicable</td>
</tr>
<tr>
<td><code class="prettyprint">state_abbreviation</code></td>
<td>string</td>
<td>the state abbreviation, if applicable</td>
</tr>
<tr>
<td><code class="prettyprint">utc_offset</code></td>
<td>string</td>
<td>the UTC offset in minutes, e.g. &ldquo;-18000&rdquo; is Eastern Standard</td>
</tr>
<tr>
<td><code class="prettyprint">time_zone</code></td>
<td>string</td>
<td>the timezone name, if applicable</td>
</tr>
<tr>
<td><code class="prettyprint">metro_area</code></td>
<td>string</td>
<td>the metropolitan area, if applicable</td>
</tr>
<tr>
<td><code class="prettyprint">continent</code></td>
<td>string</td>
<td>the continent of the location, if applicable</td>
</tr>
<tr>
<td><code class="prettyprint">language</code></td>
<td>string</td>
<td>ISO language code of the country of the location</td>
</tr>
<tr>
<td><code class="prettyprint">population</code></td>
<td>number</td>
<td>population of the location, if applicable</td>
</tr>
<tr>
<td><code class="prettyprint">place_type</code></td>
<td>string</td>
<td>&ldquo;City&rdquo;, &ldquo;State&rdquo;, &ldquo;Provice&rdquo; or &ldquo;Country&rdquo;</td>
</tr>
<tr>
<td><code class="prettyprint">country</code></td>
<td>string</td>
<td>the country of the location</td>
</tr>
<tr>
<td><code class="prettyprint">country_code</code></td>
<td>string</td>
<td>the country code of the location</td>
</tr>
<tr>
<td><code class="prettyprint">coordinates</code></td>
<td><a href="#coordinates">coordinates</a></td>
<td>Lat/long coordinates</td>
</tr>
</tbody></table>

<h3 id="enrichments-place-location-coordinates">enrichments.place.location.coordinates</h3>

<table><thead>
<tr>
<th>field</th>
<th>type</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">latitude</code></td>
<td>number</td>
</tr>
<tr>
<td><code class="prettyprint">longitude</code></td>
<td>number</td>
</tr>
</tbody></table>

<h3 id="posts">posts</h3>

<table><thead>
<tr>
<th>field</th>
<th>type</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">devices.*</code></td>
<td>map</td>
<td>percentage of posts per device type. see <a href="#device-type-values">Device Type values</a></td>
</tr>
<tr>
<td><code class="prettyprint">os.*</code></td>
<td>map</td>
<td>percentage of posts per operating systems. see <a href="#operating-system-values">Operating System values</a></td>
</tr>
<tr>
<td><code class="prettyprint">interests.*</code></td>
<td>map</td>
<td>percentage of posts per tagged interests. see <a href="#interests-topic-values">Interest category values</a></td>
</tr>
<tr>
<td><code class="prettyprint">top_domains</code></td>
<td>array[string]</td>
<td>array of top 20 domains</td>
</tr>
<tr>
<td><code class="prettyprint">top_hashtags</code></td>
<td>array[string]</td>
<td>array of top 20 hashtags</td>
</tr>
<tr>
<td><code class="prettyprint">top_interests</code></td>
<td>array[string]</td>
<td>array of top 20 interests. see <a href="#interests-topic-values">Interest category values</a></td>
</tr>
</tbody></table>

<h4 id="device-type-values">Device Type values</h4>

<ul>
<li><code class="prettyprint">desktop</code></li>
<li><code class="prettyprint">tablet</code></li>
<li><code class="prettyprint">mobile</code></li>
<li><code class="prettyprint">automated</code></li>
<li><code class="prettyprint">unknown</code></li>
</ul>

<h4 id="operating-system-values">Operating System values</h4>

<ul>
<li><code class="prettyprint">ios</code></li>
<li><code class="prettyprint">android</code></li>
<li><code class="prettyprint">windows</code></li>
<li><code class="prettyprint">mac</code></li>
<li><code class="prettyprint">blackberry</code></li>
<li><code class="prettyprint">unknown</code></li>
</ul>

<h4 id="interest-category-values">Interest category values</h4>

<ul>
<li><code class="prettyprint">animals</code></li>
<li><code class="prettyprint">art</code></li>
<li><code class="prettyprint">automotive</code></li>
<li><code class="prettyprint">beauty</code></li>
<li><code class="prettyprint">beverages</code></li>
<li><code class="prettyprint">business</code></li>
<li><code class="prettyprint">charity</code></li>
<li><code class="prettyprint">computers</code></li>
<li><code class="prettyprint">consumer_electronics</code></li>
<li><code class="prettyprint">cooking</code></li>
<li><code class="prettyprint">crafts</code></li>
<li><code class="prettyprint">current_events</code></li>
<li><code class="prettyprint">dance</code></li>
<li><code class="prettyprint">dating</code></li>
<li><code class="prettyprint">design</code></li>
<li><code class="prettyprint">environmentalism</code></li>
<li><code class="prettyprint">extreme_sports</code></li>
<li><code class="prettyprint">family</code></li>
<li><code class="prettyprint">fashion</code></li>
<li><code class="prettyprint">finance</code></li>
<li><code class="prettyprint">fitness</code></li>
<li><code class="prettyprint">food</code></li>
<li><code class="prettyprint">gaming</code></li>
<li><code class="prettyprint">health_care</code></li>
<li><code class="prettyprint">higher_education</code></li>
<li><code class="prettyprint">home_and_garden</code></li>
<li><code class="prettyprint">humor</code></li>
<li><code class="prettyprint">leisure_sports</code></li>
<li><code class="prettyprint">local_life</code></li>
<li><code class="prettyprint">major_sports</code></li>
<li><code class="prettyprint">marketing</code></li>
<li><code class="prettyprint">military</code></li>
<li><code class="prettyprint">movies</code></li>
<li><code class="prettyprint">multimedia</code></li>
<li><code class="prettyprint">music</code></li>
<li><code class="prettyprint">nutrition</code></li>
<li><code class="prettyprint">other_sports</code></li>
<li><code class="prettyprint">outdoor_recreation</code></li>
<li><code class="prettyprint">parenting</code></li>
<li><code class="prettyprint">politics</code></li>
<li><code class="prettyprint">pop_culture</code></li>
<li><code class="prettyprint">reading</code></li>
<li><code class="prettyprint">religion</code></li>
<li><code class="prettyprint">school_life</code></li>
<li><code class="prettyprint">science</code></li>
<li><code class="prettyprint">shopping</code></li>
<li><code class="prettyprint">small_business</code></li>
<li><code class="prettyprint">toys_and_games</code></li>
<li><code class="prettyprint">travel</code></li>
<li><code class="prettyprint">tv</code></li>
</ul>

          <h1 id="lookup-api">Lookup API</h1>

<p>The Lookup API provides access to the Portrait database (PDB) which contains
hundreds of millions of social profiles with pre-calculated demographic and psychographic attributes appended to each.<br>
This endpoint supports both HTTP POST and HTTP GET calls.</p>

<h2 id="profile-lookup">Profile Lookup</h2>

<p>Retrieve one or more profiles from the PDB by submitting their relevant social profile identifiers.  If found, an enriched profile (referred to as a portrait) will be returned.</p>

<p>Lookup supports the following services:</p>

<ul>
<li><code class="prettyprint">foursquare</code></li>
<li><code class="prettyprint">googleplus</code></li>
<li><code class="prettyprint">instagram</code></li>
<li><code class="prettyprint">tumblr</code></li>
<li><code class="prettyprint">twitter</code></li>
<li><code class="prettyprint">youtube</code></li>
</ul>

<p>To restrict results to just one or just several services, only request ids with an appropriate prefix:</p>

<p>twitter:12345
  instagram:56789</p>

<p>When looking up a batch of profiles the response will include each submitted social platform identifier, if a profile is not found in the PDB it is left out of the response.</p>

<h3 id="resource-uri">Resource URI</h3>

<p><code class="prettyprint">/lookup</code></p>

<h3 id="json-schema">Json Schema</h3>

<table><thead>
<tr>
<th>type</th>
<th>schema URL</th>
</tr>
</thead><tbody>
<tr>
<td>Lookup Request</td>
<td><a href="http://apidocs.peoplepattern.com/schemata/LookupRequest.json">http://apidocs.peoplepattern.com/schemata/LookupRequest.json</a></td>
</tr>
<tr>
<td>Lookup Response</td>
<td><a href="http://apidocs.peoplepattern.com/schemata/LookupResponse.json">http://apidocs.peoplepattern.com/schemata/LookupResponse.json</a></td>
</tr>
</tbody></table>

<h3 id="get-example">GET example</h3>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.peoplepattern.com/lookup?access_token=</span><span class="nv">$MY_TOKEN</span><span class="s2">&amp;id=twitter:14132201,twitter:119837224&amp;fields=handle"</span> <span class="se">\</span>
  -H <span class="s2">"Accept: application/json"</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"twitter:14132201"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"chonuff"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"twitter:119837224"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jasonbaldridge"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="post-example">POST example</h3>
<pre class="highlight plaintext"><code>curl "https://api.peoplepattern.com/lookup?access_token=$MY_TOKEN" \
  -X POST \
  -H "Accept: application/json" \
  -d '{"fields": ["name"],"ids": ["twitter:14132201","twitter:119837224"]}'
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"twitter:14132201"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Kenneth Cho"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"twitter:119837224"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jason Baldridge"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

          <h1 id="search-api">Search API</h1>

<p>The Search API allows you to search the Portrait database (PDB) which contains
hundreds of millions of social profiles with pre-calculated demographic and psychographic attributes appended to each.  </p>

<p>Search supports the following services:</p>

<ul>
<li><code class="prettyprint">foursquare</code></li>
<li><code class="prettyprint">googleplus</code></li>
<li><code class="prettyprint">instagram</code></li>
<li><code class="prettyprint">tumblr</code></li>
<li><code class="prettyprint">twitter</code></li>
<li><code class="prettyprint">youtube</code></li>
</ul>

<p>To restrict results to just one or just several services, add a clause to your queryString like:</p>

<p>provider.id:&lsquo;twitter&rsquo;
  provider.id:&#39;twitter&rsquo; OR provider.id:&#39;instagram&rsquo;</p>

<p>This endpoint supports both HTTP POST and HTTP GET calls.</p>

<h2 id="profile-search">Profile Search</h2>

<p>Search the PDB by defining a search string using specific demographic and psychographic criteria.  This will return 0 or more profiles that match the submitted criteria.  The search syntax is based on <a href="https://lucene.apache.org/core/2_9_4/queryparsersyntax.html">Lucene</a></p>

<p>The <code class="prettyprint">queryString</code> parameter is the easiest to use, but we also provide a way to search with any valid elasticsearch <code class="prettyprint">_search</code> request.  Reach out to our support team if your search is more complex than you can express using <code class="prettyprint">queryString</code>.</p>

<p>The search results will include all enrichments and predictions for each profile returned.  The available enriched set of fields may not be the same across all profiles.</p>

<h3 id="resource-uri">Resource URI</h3>

<p><code class="prettyprint">/search</code></p>

<h3 id="json-schema">Json Schema</h3>

<table><thead>
<tr>
<th>type</th>
<th>schema URL</th>
</tr>
</thead><tbody>
<tr>
<td>Search Request</td>
<td><a href="http://apidocs.peoplepattern.com/schemata/SearchRequest.json">http://apidocs.peoplepattern.com/schemata/SearchRequest.json</a></td>
</tr>
<tr>
<td>Search Response</td>
<td><a href="http://apidocs.peoplepattern.com/schemata/SearchResponse.json">http://apidocs.peoplepattern.com/schemata/SearchResponse.json</a></td>
</tr>
</tbody></table>

<h3 id="get-parameters">GET Parameters</h3>

<table><thead>
<tr>
<th>PARAMETER</th>
<th>REQUIRED</th>
<th>DESCRIPTION</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">queryString</code></td>
<td>Yes</td>
<td><a href="https://lucene.apache.org/core/2_9_4/queryparsersyntax.html">Lucene</a> formatted query</td>
</tr>
<tr>
<td><code class="prettyprint">fields</code></td>
<td>No</td>
<td>an array of <a href="#pdb-fields">PDB fields</a> to be returned for each discovered profile.  Not including this parameter will return all fields.</td>
</tr>
<tr>
<td><code class="prettyprint">limit</code></td>
<td>No</td>
<td>the maximum number of profiles to return in the result set</td>
</tr>
<tr>
<td><code class="prettyprint">random</code></td>
<td>No</td>
<td>if true, return a random set of &#39;limit&rsquo; matching profiles</td>
</tr>
<tr>
<td><code class="prettyprint">sortField</code></td>
<td>No</td>
<td>a numeric <a href="#pdb-fields">PDB field</a> to be used to sort</td>
</tr>
<tr>
<td><code class="prettyprint">sortOrder</code></td>
<td>No</td>
<td>ASC or DESC</td>
</tr>
</tbody></table>

<h3 id="get-example">GET Example</h3>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.peoplepattern.com/search?access_token=</span><span class="nv">$MY_TOKEN</span><span class="s2">&amp;queryString=joe&amp;limit=2"</span> <span class="se">\</span>
  -H <span class="s2">"Accept: application/json"</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"totalItems"</span><span class="p">:</span><span class="w"> </span><span class="mi">55659</span><span class="p">,</span><span class="w">
    </span><span class="nt">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nt">"$schema"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://streams.peoplepattern.com.s3-website-us-east-1.amazonaws.com/streams-internal/0.11.0/pdb-pojo/pdb-profile.json"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"profile"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jordyn Derham"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"handle"</span><span class="p">:</span><span class="w"> </span><span class="s2">"heyjordynnn"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"location"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nt">"provider"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"twitter"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"twitter"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"favourites_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">8279</span><span class="p">,</span><span class="w">
            </span><span class="nt">"followers_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">654</span><span class="p">,</span><span class="w">
            </span><span class="nt">"friends_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">620</span><span class="p">,</span><span class="w">
            </span><span class="nt">"listed_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nt">"statuses_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">11112</span><span class="p">,</span><span class="w">
            </span><span class="nt">"verified"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"enrichments"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"account_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"person"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"spam"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nt">"adult"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nt">"demographics"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"birthyear"</span><span class="p">:</span><span class="w"> </span><span class="mi">1984</span><span class="p">,</span><span class="w">
                </span><span class="nt">"age"</span><span class="p">:</span><span class="w"> </span><span class="mi">33</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nt">"psychographics"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
            </span><span class="nt">"vcard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"given_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jordyn"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"family_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Derham"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"fn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jordyn Derham"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nt">"interestingness"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5293136029467735</span><span class="p">,</span><span class="w">
            </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.11.3.1-RC2"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"influence"</span><span class="p">:</span><span class="w"> </span><span class="mi">34</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"twitter:449475865"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"image"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://pbs.twimg.com/profile_images/640008864969162752/gRLm24sx_normal.jpg"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"summary"</span><span class="p">:</span><span class="w"> </span><span class="s2">"osu18 joe joe joe joe joe joe joe joe joe joe joe joe joe joe joe joe joe joe joe"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"published"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2011-12-29T04:47:04.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"service_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"449475865"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"lang"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"posts"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">11112</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"$schema"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://streams.peoplepattern.com.s3-website-us-east-1.amazonaws.com/streams-internal/0.11.0/pdb-pojo/pdb-profile.json"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"profile"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"★ joe"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"handle"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jszulueta"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"location"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Manila"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"provider"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"twitter"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"twitter"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"favourites_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
            </span><span class="nt">"followers_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">48</span><span class="p">,</span><span class="w">
            </span><span class="nt">"friends_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">86</span><span class="p">,</span><span class="w">
            </span><span class="nt">"listed_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nt">"statuses_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">708</span><span class="p">,</span><span class="w">
            </span><span class="nt">"verified"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"enrichments"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"account_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"person"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"spam"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nt">"adult"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nt">"demographics"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"birthyear"</span><span class="p">:</span><span class="w"> </span><span class="mi">1977</span><span class="p">,</span><span class="w">
                </span><span class="nt">"race"</span><span class="p">:</span><span class="w"> </span><span class="s2">"south-asian"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"gender"</span><span class="p">:</span><span class="w"> </span><span class="s2">"male"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"age"</span><span class="p">:</span><span class="w"> </span><span class="mi">40</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nt">"psychographics"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"languages"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"eu"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0072992700729927005</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"tl"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.051094890510948905</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"en"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.9197080291970803</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"und"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0072992700729927005</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"it"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0072992700729927005</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"es"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0072992700729927005</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="nt">"interests"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"other_sports"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0136986301369863</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"beauty"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00684931506849315</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"environmentalism"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0136986301369863</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"movies"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00684931506849315</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"humor"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0273972602739726</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"music"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00684931506849315</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"health_care"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.02054794520547945</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"design"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.02054794520547945</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"military"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0410958904109589</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"dating"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00684931506849315</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"parenting"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00684931506849315</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"computers"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0136986301369863</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"shopping"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0273972602739726</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"local_life"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.07534246575342465</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"gaming"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00684931506849315</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"beverages"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.02054794520547945</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"business"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0136986301369863</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"current_events"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00684931506849315</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"consumer_electronics"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.03424657534246575</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"food"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0410958904109589</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"outdoor_recreation"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00684931506849315</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"religion"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.02054794520547945</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"crafts"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00684931506849315</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"multimedia"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.3561643835616438</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"science"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.02054794520547945</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"toys_and_games"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00684931506849315</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"school_life"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00684931506849315</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"travel"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.1506849315068493</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"family"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0136986301369863</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="nt">"sentiment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"negative"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.031496062992125984</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"neutral"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.7637795275590551</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"positive"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.2047244094488189</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="nt">"top_languages"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"en"</span><span class="p">,</span><span class="w"> </span><span class="s2">"tl"</span><span class="p">,</span><span class="w"> </span><span class="s2">"es"</span><span class="p">],</span><span class="w">
                </span><span class="nt">"top_interests"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"multimedia"</span><span class="p">,</span><span class="w"> </span><span class="s2">"travel"</span><span class="p">,</span><span class="w"> </span><span class="s2">"local_life"</span><span class="p">,</span><span class="w"> </span><span class="s2">"food"</span><span class="p">,</span><span class="w"> </span><span class="s2">"military"</span><span class="p">]</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nt">"place"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"city"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="nt">"geo_name_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1701668</span><span class="p">,</span><span class="w">
                </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"City"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Manila, Philippines"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"location"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Manila"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Metro Manila"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"state_abbreviation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NCR"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"time_zone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Asia/Manila"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"metro_area"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Quezon City, Philippines"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"continent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AS"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"population"</span><span class="p">:</span><span class="w"> </span><span class="mi">1600000</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"place_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"City"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Philippines"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"country_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PH"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"coordinates"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"longitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">120.9822</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"latitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">14.6042</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="nt">"global_metro_area"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Manila, Philippines"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nt">"vcard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"given_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Joe"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"family_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Zulueta"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"fn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Joe Zulueta"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nt">"interestingness"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.6580114462803627</span><span class="p">,</span><span class="w">
            </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.11.3.1-RC2"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"influence"</span><span class="p">:</span><span class="w"> </span><span class="mi">19</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"twitter:130573602"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"image"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://pbs.twimg.com/profile_images/491912407841644544/7dD2PrDr_normal.jpeg"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"summary"</span><span class="p">:</span><span class="w"> </span><span class="s2">"joe joe joe joe joe joe joe joe joe joe joe joe joe joe joe joe joe joe joe joe joe joe joe joe joe joe joe joe joe joe joe joe joe joe joe joe joe joe joe joe"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"published"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2010-04-07T17:56:08.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"service_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"130573602"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"lang"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"posts"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"top_hashtags"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"3d"</span><span class="p">,</span><span class="w"> </span><span class="s2">"fps"</span><span class="p">,</span><span class="w"> </span><span class="s2">"mobile"</span><span class="p">,</span><span class="w"> </span><span class="s2">"pg3d"</span><span class="p">,</span><span class="w"> </span><span class="s2">"pixelgun"</span><span class="p">,</span><span class="w"> </span><span class="s2">"pixelgun3d"</span><span class="p">,</span><span class="w"> </span><span class="s2">"shooter"</span><span class="p">,</span><span class="w"> </span><span class="s2">"HiddenRisks"</span><span class="p">,</span><span class="w"> </span><span class="s2">"TheSMStoreMakati3DS"</span><span class="p">,</span><span class="w"> </span><span class="s2">"WaltDisney"</span><span class="p">,</span><span class="w"> </span><span class="s2">"gifersation"</span><span class="p">],</span><span class="w">
            </span><span class="nt">"os"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"android"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.4444444444444444</span><span class="p">,</span><span class="w">
                </span><span class="nt">"ios"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5555555555555556</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nt">"devices"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"desktop"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.04</span><span class="p">,</span><span class="w">
                </span><span class="nt">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.96</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nt">"top_domains"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"fb.me"</span><span class="p">,</span><span class="w"> </span><span class="s2">"4sq.com"</span><span class="p">,</span><span class="w"> </span><span class="s2">"goo.gl"</span><span class="p">,</span><span class="w"> </span><span class="s2">"instagr.am"</span><span class="p">,</span><span class="w"> </span><span class="s2">"www.viber.com"</span><span class="p">,</span><span class="w"> </span><span class="s2">"bit.ly"</span><span class="p">,</span><span class="w"> </span><span class="s2">"huff.to"</span><span class="p">,</span><span class="w"> </span><span class="s2">"ph.sharings.cc"</span><span class="p">,</span><span class="w"> </span><span class="s2">"play.google.com"</span><span class="p">,</span><span class="w"> </span><span class="s2">"wechat.com"</span><span class="p">],</span><span class="w">
            </span><span class="nt">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">708</span><span class="p">,</span><span class="w">
            </span><span class="nt">"top_mentions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"twitter:960481315"</span><span class="p">,</span><span class="w"> </span><span class="s2">"twitter:122302784"</span><span class="p">,</span><span class="w"> </span><span class="s2">"twitter:14120151"</span><span class="p">,</span><span class="w"> </span><span class="s2">"twitter:2166412230"</span><span class="p">,</span><span class="w"> </span><span class="s2">"twitter:2576461322"</span><span class="p">,</span><span class="w"> </span><span class="s2">"twitter:15092616"</span><span class="p">,</span><span class="w"> </span><span class="s2">"twitter:3746042353"</span><span class="p">,</span><span class="w"> </span><span class="s2">"twitter:71983360"</span><span class="p">,</span><span class="w"> </span><span class="s2">"twitter:106915372"</span><span class="p">,</span><span class="w"> </span><span class="s2">"twitter:14511951"</span><span class="p">,</span><span class="w"> </span><span class="s2">"twitter:326380075"</span><span class="p">,</span><span class="w"> </span><span class="s2">"twitter:335942140"</span><span class="p">,</span><span class="w"> </span><span class="s2">"twitter:347258974"</span><span class="p">,</span><span class="w"> </span><span class="s2">"twitter:871351657"</span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="get-example">GET Example</h3>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.peoplepattern.com/search?access_token=</span><span class="nv">$MY_TOKEN</span><span class="s2">"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s2">"Accept: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{"queryString":"john", "limit":"2","random":"true"}'</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"totalItems"</span><span class="p">:</span><span class="w"> </span><span class="mi">55659</span><span class="p">,</span><span class="w">
    </span><span class="nt">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nt">"$schema"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://streams.peoplepattern.com.s3-website-us-east-1.amazonaws.com/streams-internal/0.11.0/pdb-pojo/pdb-profile.json"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"profile"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"joe-joint"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"handle"</span><span class="p">:</span><span class="w"> </span><span class="s2">"joe-joint"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"provider"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tumblr"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"twitter"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
        </span><span class="nt">"enrichments"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"account_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"person"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"spam"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nt">"adult"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nt">"demographics"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"birthyear"</span><span class="p">:</span><span class="w"> </span><span class="mi">1990</span><span class="p">,</span><span class="w">
                </span><span class="nt">"race"</span><span class="p">:</span><span class="w"> </span><span class="s2">"white"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"gender"</span><span class="p">:</span><span class="w"> </span><span class="s2">"male"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"age"</span><span class="p">:</span><span class="w"> </span><span class="mi">27</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nt">"psychographics"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
            </span><span class="nt">"vcard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"given_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Joe-joint"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"family_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Joe"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"fn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Joe-joint Joe"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nt">"interestingness"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.7642813799014391</span><span class="p">,</span><span class="w">
            </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.11.3.1-RC2"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tumblr:joe-joint"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"image"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.tumblr.com/v2/blog/joe-joint.tumblr.com/avatar"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"summary"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rocko floyd zeplin"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://joe-joint.tumblr.com/"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"published"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-07-08T04:25:50.117Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"service_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"joe-joint"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"posts"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
    </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"$schema"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://streams.peoplepattern.com.s3-website-us-east-1.amazonaws.com/streams-internal/0.11.0/pdb-pojo/pdb-profile.json"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"profile"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"joe-wagner"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"handle"</span><span class="p">:</span><span class="w"> </span><span class="s2">"joe-wagner"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"provider"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tumblr"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"twitter"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
        </span><span class="nt">"enrichments"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"account_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"person"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"spam"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nt">"adult"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nt">"demographics"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"birthyear"</span><span class="p">:</span><span class="w"> </span><span class="mi">1987</span><span class="p">,</span><span class="w">
                </span><span class="nt">"race"</span><span class="p">:</span><span class="w"> </span><span class="s2">"white"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"gender"</span><span class="p">:</span><span class="w"> </span><span class="s2">"male"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"age"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nt">"psychographics"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
            </span><span class="nt">"vcard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"given_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Joe-wagner"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"family_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Wagner"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"fn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Joe-wagner Wagner"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nt">"interestingness"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.8920150138040867</span><span class="p">,</span><span class="w">
            </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.11.3.1-RC2"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tumblr:joe-wagner"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"image"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.tumblr.com/v2/blog/joe-wagner.tumblr.com/avatar"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"summary"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Asshole extraordinaire."</span><span class="p">,</span><span class="w">
        </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://joe-wagner.tumblr.com/"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"published"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-09-02T00:06:17.338Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"service_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"joe-wagner"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"posts"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

          <h1 id="aggregate-api">Aggregate API</h1>

<p>The Aggregate API allows you to retrieve aggregate insights from the Portrait database (PDB) which contains
hundreds of millions of social profiles with pre-calculated demographic and psychographic attributes appended to each.</p>

<p>Aggregate supports the following services:</p>

<ul>
<li><code class="prettyprint">foursquare</code></li>
<li><code class="prettyprint">googleplus</code></li>
<li><code class="prettyprint">instagram</code></li>
<li><code class="prettyprint">tumblr</code></li>
<li><code class="prettyprint">twitter</code></li>
<li><code class="prettyprint">youtube</code></li>
</ul>

<h2 id="aggregate-profiles">Aggregate Profiles</h2>

<p>Get aggregate insights for a set of profiles by submitting their social profile identifiers to the PDB.<br>
Aggregate data is returned for both demographic and psychographic attributes.</p>

<h3 id="resource-uri">Resource URI</h3>

<p><code class="prettyprint">/aggregate</code></p>

<h3 id="json-schema">Json Schema</h3>

<table><thead>
<tr>
<th>type</th>
<th>schema URL</th>
</tr>
</thead><tbody>
<tr>
<td>Aggregate Request</td>
<td><a href="http://apidocs.peoplepattern.com/schemata/AggregateRequest.json">http://apidocs.peoplepattern.com/schemata/AggregateRequest.json</a></td>
</tr>
<tr>
<td>Aggregate Response</td>
<td><a href="http://apidocs.peoplepattern.com/schemata/AggregateResponse.json">http://apidocs.peoplepattern.com/schemata/AggregateResponse.json</a></td>
</tr>
</tbody></table>

<h3 id="aggregate-profile-attributes">Aggregate profile attributes</h3>

<p>Aggregate supports all enum, numeric, date-time, array, and map fields defined on a <a href="#pdb-profile">PDB profile</a>.</p>

<p>Note that the fields to aggregate must be requested in flattened format (see below).</p>

<p>Also note that map fields must be requested using syntax like <code class="prettyprint">posts.os.*</code> and <code class="prettyprint">posts.devices.*</code>.</p>

<h3 id="get-example">GET Example</h3>
<pre class="highlight shell"><code>curl -X GET <span class="se">\</span>
  -H <span class="s2">"Accept: application/json"</span> <span class="se">\</span>
  <span class="s2">"https://api.peoplepattern.com/aggregate?access_token=</span><span class="nv">$MY_TOKEN</span><span class="s2">&amp;fields=enrichments.demographics.race,enrichments.demographics.birthyear,enrichments.account_type,posts.devices.*,enrichments.psychographics.top_interests,posts.os.*,enrichments.demographics.gender,place.location.city&amp;ids=twitter:14132201,twitter:119837224,twitter:391705374,twitter:20092104"</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"enrichments.account_type"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"person"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.0</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"enrichments.psychographics.top_interests"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"marketing"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.06666666666666667</span><span class="p">,</span><span class="w">
        </span><span class="nt">"business"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.13333333333333333</span><span class="p">,</span><span class="w">
        </span><span class="nt">"current_events"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.06666666666666667</span><span class="p">,</span><span class="w">
        </span><span class="nt">"major_sports"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.06666666666666667</span><span class="p">,</span><span class="w">
        </span><span class="nt">"small_business"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.06666666666666667</span><span class="p">,</span><span class="w">
        </span><span class="nt">"fitness"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.06666666666666667</span><span class="p">,</span><span class="w">
        </span><span class="nt">"science"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.13333333333333333</span><span class="p">,</span><span class="w">
        </span><span class="nt">"health_care"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.06666666666666667</span><span class="p">,</span><span class="w">
        </span><span class="nt">"higher_education"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.06666666666666667</span><span class="p">,</span><span class="w">
        </span><span class="nt">"reading"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.06666666666666667</span><span class="p">,</span><span class="w">
        </span><span class="nt">"family"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.06666666666666667</span><span class="p">,</span><span class="w">
        </span><span class="nt">"computers"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.13333333333333333</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"enrichments.demographics.gender"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"male"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.0</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"enrichments.demographics.race"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"white"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.6666666666666666</span><span class="p">,</span><span class="w">
        </span><span class="nt">"east-asian"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.3333333333333333</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"posts.os.*"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"blackberry"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
        </span><span class="nt">"android"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
        </span><span class="nt">"ios"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w">
        </span><span class="nt">"windows"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
        </span><span class="nt">"mac"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
        </span><span class="nt">"unknown"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"posts.devices.*"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"tablet"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
        </span><span class="nt">"automated"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
        </span><span class="nt">"desktop"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.004219409282700422</span><span class="p">,</span><span class="w">
        </span><span class="nt">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.9957805907172995</span><span class="p">,</span><span class="w">
        </span><span class="nt">"unknown"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"enrichments.demographics.birthyear"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"1975"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5</span><span class="p">,</span><span class="w">
        </span><span class="nt">"1972"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="post-example">POST Example</h3>
<pre class="highlight shell"><code>curl -X POST <span class="s2">"https://api.peoplepattern.com/aggregate?access_token=</span><span class="nv">$MY_TOKEN</span><span class="s2">"</span> <span class="se">\</span>
  -H <span class="s2">"Accept: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{"fields":["enrichments.demographics.race","enrichments.demographics.birthyear","enrichments.account_type","posts.devices.*","enrichments.psychographics.top_interests","posts.os.*","enrichments.demographics.gender","place.location.city"], "ids":["twitter:14132201","twitter:119837224","twitter:391705374","twitter:20092104"]}'</span>

</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"enrichments.account_type"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"person"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.0</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"enrichments.psychographics.top_interests"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"marketing"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.06666666666666667</span><span class="p">,</span><span class="w">
        </span><span class="nt">"business"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.13333333333333333</span><span class="p">,</span><span class="w">
        </span><span class="nt">"current_events"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.06666666666666667</span><span class="p">,</span><span class="w">
        </span><span class="nt">"major_sports"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.06666666666666667</span><span class="p">,</span><span class="w">
        </span><span class="nt">"small_business"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.06666666666666667</span><span class="p">,</span><span class="w">
        </span><span class="nt">"fitness"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.06666666666666667</span><span class="p">,</span><span class="w">
        </span><span class="nt">"science"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.13333333333333333</span><span class="p">,</span><span class="w">
        </span><span class="nt">"health_care"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.06666666666666667</span><span class="p">,</span><span class="w">
        </span><span class="nt">"higher_education"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.06666666666666667</span><span class="p">,</span><span class="w">
        </span><span class="nt">"reading"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.06666666666666667</span><span class="p">,</span><span class="w">
        </span><span class="nt">"family"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.06666666666666667</span><span class="p">,</span><span class="w">
        </span><span class="nt">"computers"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.13333333333333333</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"enrichments.demographics.gender"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"male"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.0</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"enrichments.demographics.race"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"white"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.6666666666666666</span><span class="p">,</span><span class="w">
        </span><span class="nt">"east-asian"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.3333333333333333</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"posts.os.*"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"blackberry"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
        </span><span class="nt">"android"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
        </span><span class="nt">"ios"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w">
        </span><span class="nt">"windows"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
        </span><span class="nt">"mac"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
        </span><span class="nt">"unknown"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"posts.devices.*"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"tablet"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
        </span><span class="nt">"automated"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
        </span><span class="nt">"desktop"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.004219409282700422</span><span class="p">,</span><span class="w">
        </span><span class="nt">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.9957805907172995</span><span class="p">,</span><span class="w">
        </span><span class="nt">"unknown"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"enrichments.demographics.birthyear"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"1975"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5</span><span class="p">,</span><span class="w">
        </span><span class="nt">"1972"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h2 id="search-aggregate-profiles">Search/Aggregate Profiles</h2>

<p>We also offer aggregation based on search criteria. The <code class="prettyprint">queryString</code> parameter is the easiest to use, but we also provide a way to search with any valid elasticsearch <code class="prettyprint">_search</code> request.  Reach out to our support team if your search is more complex than you can express using <code class="prettyprint">queryString</code>.</p>

<h3 id="resource-uri">Resource URI</h3>

<p><code class="prettyprint">/aggregatesearch</code></p>

<h4 id="json-schema">Json Schema</h4>

<table><thead>
<tr>
<th>type</th>
<th>schema URL</th>
</tr>
</thead><tbody>
<tr>
<td>AggregateSearch Request</td>
<td><a href="http://apidocs.peoplepattern.com/schemata/AggregateSearchRequest.json">http://apidocs.peoplepattern.com/schemata/AggregateSearchRequest.json</a></td>
</tr>
<tr>
<td>AggregateSearch Response</td>
<td><a href="http://apidocs.peoplepattern.com/schemata/AggregateSearchResponse.json">http://apidocs.peoplepattern.com/schemata/AggregateSearchResponse.json</a></td>
</tr>
</tbody></table>

<h4 id="get-example">GET Example</h4>
<pre class="highlight shell"><code>curl -X GET <span class="se">\</span>
  -H <span class="s2">"Accept: application/json"</span>
  <span class="s2">"https://api.peoplepattern.com/aggregate?access_token=</span><span class="nv">$MY_TOKEN</span><span class="s2">&amp;fields=enrichments.demographics.race,enrichments.demographics.birthyear,enrichments.account_type,posts.devices.*,enrichments.psychographics.top_interests,posts.os.*,enrichments.demographics.gender,place.location.city&amp;queryString=john"</span> <span class="se">\</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"enrichments.account_type"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"entertainment"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.8391506376973333E-4</span><span class="p">,</span><span class="w">
        </span><span class="nt">"person"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.9947953288076048</span><span class="p">,</span><span class="w">
        </span><span class="nt">"organization"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.005020756128625441</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"enrichments.psychographics.top_interests"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"politics"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.035818697462143584</span><span class="p">,</span><span class="w">
        </span><span class="nt">"other_sports"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.03053666076128402</span><span class="p">,</span><span class="w">
        </span><span class="nt">"gaming"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.02761313182126375</span><span class="p">,</span><span class="w">
        </span><span class="nt">"beverages"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.023741825419391526</span><span class="p">,</span><span class="w">
        </span><span class="nt">"current_events"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.037120068823224925</span><span class="p">,</span><span class="w">
        </span><span class="nt">"business"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.030066417328288242</span><span class="p">,</span><span class="w">
        </span><span class="nt">"consumer_electronics"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.025108812143216464</span><span class="p">,</span><span class="w">
        </span><span class="nt">"higher_education"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.02272478729686577</span><span class="p">,</span><span class="w">
        </span><span class="nt">"food"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.02682574746834059</span><span class="p">,</span><span class="w">
        </span><span class="nt">"religion"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.04243855850338648</span><span class="p">,</span><span class="w">
        </span><span class="nt">"multimedia"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.02148538600059783</span><span class="p">,</span><span class="w">
        </span><span class="nt">"humor"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0640369487398205</span><span class="p">,</span><span class="w">
        </span><span class="nt">"music"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.03406895445564766</span><span class="p">,</span><span class="w">
        </span><span class="nt">"major_sports"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.06896174624352049</span><span class="p">,</span><span class="w">
        </span><span class="nt">"school_life"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.038760452891814845</span><span class="p">,</span><span class="w">
        </span><span class="nt">"animals"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.020428249600839877</span><span class="p">,</span><span class="w">
        </span><span class="nt">"family"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.056301626531936454</span><span class="p">,</span><span class="w">
        </span><span class="nt">"travel"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.026927815810386183</span><span class="p">,</span><span class="w">
        </span><span class="nt">"automotive"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.024911966054985673</span><span class="p">,</span><span class="w">
        </span><span class="nt">"finance"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.02719027726136057</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"enrichments.demographics.gender"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"female"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.011415977072219231</span><span class="p">,</span><span class="w">
        </span><span class="nt">"male"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.9885840229277808</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"enrichments.demographics.race"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"middle-eastern"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.807261232695993E-4</span><span class="p">,</span><span class="w">
        </span><span class="nt">"white"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.8984420511505714</span><span class="p">,</span><span class="w">
        </span><span class="nt">"south-asian"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.001572390829180588</span><span class="p">,</span><span class="w">
        </span><span class="nt">"hispanic"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.051822366894438865</span><span class="p">,</span><span class="w">
        </span><span class="nt">"black"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.034495236580723364</span><span class="p">,</span><span class="w">
        </span><span class="nt">"east-asian"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.013387228421816152</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"posts.os.*"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"blackberry"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.02681955952155928</span><span class="p">,</span><span class="w">
        </span><span class="nt">"android"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.3538655259396014</span><span class="p">,</span><span class="w">
        </span><span class="nt">"ios"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.6097575035076012</span><span class="p">,</span><span class="w">
        </span><span class="nt">"windows"</span><span class="p">:</span><span class="w"> </span><span class="mf">9.160855311759634E-4</span><span class="p">,</span><span class="w">
        </span><span class="nt">"mac"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.003519898918088746</span><span class="p">,</span><span class="w">
        </span><span class="nt">"unknown"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.005121426581973373</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"posts.devices.*"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"tablet"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.054544731549693456</span><span class="p">,</span><span class="w">
        </span><span class="nt">"automated"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.003470887228310001</span><span class="p">,</span><span class="w">
        </span><span class="nt">"desktop"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0428197705361852</span><span class="p">,</span><span class="w">
        </span><span class="nt">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.8949874598895574</span><span class="p">,</span><span class="w">
        </span><span class="nt">"unknown"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.004177150796253883</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"enrichments.demographics.birthyear"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"1990"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.021262022202317505</span><span class="p">,</span><span class="w">
        </span><span class="nt">"1987"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.049928869902849664</span><span class="p">,</span><span class="w">
        </span><span class="nt">"1986"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.06093680972395037</span><span class="p">,</span><span class="w">
        </span><span class="nt">"1997"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.02167137489816845</span><span class="p">,</span><span class="w">
        </span><span class="nt">"1985"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.06690282129120378</span><span class="p">,</span><span class="w">
        </span><span class="nt">"1996"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.03187276831853314</span><span class="p">,</span><span class="w">
        </span><span class="nt">"1984"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0660516919235929</span><span class="p">,</span><span class="w">
        </span><span class="nt">"1995"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.033445331150118954</span><span class="p">,</span><span class="w">
        </span><span class="nt">"1983"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.05902784814230883</span><span class="p">,</span><span class="w">
        </span><span class="nt">"1994"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.028342607941442298</span><span class="p">,</span><span class="w">
        </span><span class="nt">"1982"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.04858732789961537</span><span class="p">,</span><span class="w">
        </span><span class="nt">"1993"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.023130453814072815</span><span class="p">,</span><span class="w">
        </span><span class="nt">"1981"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.037976581783399736</span><span class="p">,</span><span class="w">
        </span><span class="nt">"1992"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.01916662275919929</span><span class="p">,</span><span class="w">
        </span><span class="nt">"1980"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.028820861586099842</span><span class="p">,</span><span class="w">
        </span><span class="nt">"1991"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.018692422111530372</span><span class="p">,</span><span class="w">
        </span><span class="nt">"1979"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.021675427895157074</span><span class="p">,</span><span class="w">
        </span><span class="nt">"1968"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.018218221463861452</span><span class="p">,</span><span class="w">
        </span><span class="nt">"1989"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.027896778272693743</span><span class="p">,</span><span class="w">
        </span><span class="nt">"1988"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.03941944871134961</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h4 id="post-example">POST Example</h4>
<pre class="highlight shell"><code>curl -X POST <span class="s2">"https://api.peoplepattern.com/aggregate?access_token=</span><span class="nv">$MY_TOKEN</span><span class="s2">"</span> <span class="se">\</span>
  -H <span class="s2">"Accept: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{"queryString":"jill","fields":["enrichments.demographics.race","enrichments.demographics.birthyear","enrichments.account_type","posts.devices.*","enrichments.psychographics.top_interests","posts.os.*","enrichments.demographics.gender","place.location.city"]}'</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"enrichments.account_type"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"entertainment"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.7386356451918822E-4</span><span class="p">,</span><span class="w">
        </span><span class="nt">"person"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.9961275842447999</span><span class="p">,</span><span class="w">
        </span><span class="nt">"organization"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.003698552190680913</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"enrichments.psychographics.top_interests"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"politics"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.023585975416156393</span><span class="p">,</span><span class="w">
        </span><span class="nt">"beverages"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.026942441148455572</span><span class="p">,</span><span class="w">
        </span><span class="nt">"business"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.027169229373610923</span><span class="p">,</span><span class="w">
        </span><span class="nt">"current_events"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.021182020229509685</span><span class="p">,</span><span class="w">
        </span><span class="nt">"beauty"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.018914137977956186</span><span class="p">,</span><span class="w">
        </span><span class="nt">"higher_education"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.025853857667709892</span><span class="p">,</span><span class="w">
        </span><span class="nt">"reading"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.020547013199074704</span><span class="p">,</span><span class="w">
        </span><span class="nt">"food"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.041683675783553316</span><span class="p">,</span><span class="w">
        </span><span class="nt">"religion"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.042908332199392205</span><span class="p">,</span><span class="w">
        </span><span class="nt">"multimedia"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.022542749580441782</span><span class="p">,</span><span class="w">
        </span><span class="nt">"humor"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0752483331065451</span><span class="p">,</span><span class="w">
        </span><span class="nt">"music"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.02848460107951195</span><span class="p">,</span><span class="w">
        </span><span class="nt">"major_sports"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.03356465732299179</span><span class="p">,</span><span class="w">
        </span><span class="nt">"charity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.02558171179752347</span><span class="p">,</span><span class="w">
        </span><span class="nt">"health_care"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.024402413026715652</span><span class="p">,</span><span class="w">
        </span><span class="nt">"school_life"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.06327391481834263</span><span class="p">,</span><span class="w">
        </span><span class="nt">"animals"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0386900712115027</span><span class="p">,</span><span class="w">
        </span><span class="nt">"family"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.09184923118791673</span><span class="p">,</span><span class="w">
        </span><span class="nt">"travel"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.02957318456025763</span><span class="p">,</span><span class="w">
        </span><span class="nt">"parenting"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.024629201251871003</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"enrichments.demographics.gender"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"female"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.9968667493717593</span><span class="p">,</span><span class="w">
        </span><span class="nt">"male"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.003133250628240608</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"enrichments.demographics.race"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"middle-eastern"</span><span class="p">:</span><span class="w"> </span><span class="mf">3.677214142565592E-5</span><span class="p">,</span><span class="w">
        </span><span class="nt">"white"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.9725128242843222</span><span class="p">,</span><span class="w">
        </span><span class="nt">"south-asian"</span><span class="p">:</span><span class="w"> </span><span class="mf">3.1256320211807534E-4</span><span class="p">,</span><span class="w">
        </span><span class="nt">"hispanic"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.01000202246777841</span><span class="p">,</span><span class="w">
        </span><span class="nt">"black"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.009781389619224475</span><span class="p">,</span><span class="w">
        </span><span class="nt">"east-asian"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.007354428285131185</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"posts.os.*"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"blackberry"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.015055618724203267</span><span class="p">,</span><span class="w">
        </span><span class="nt">"android"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.21980291455853063</span><span class="p">,</span><span class="w">
        </span><span class="nt">"ios"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.7600062143666229</span><span class="p">,</span><span class="w">
        </span><span class="nt">"windows"</span><span class="p">:</span><span class="w"> </span><span class="mf">4.383875793916797E-5</span><span class="p">,</span><span class="w">
        </span><span class="nt">"mac"</span><span class="p">:</span><span class="w"> </span><span class="mf">3.5016552631090994E-4</span><span class="p">,</span><span class="w">
        </span><span class="nt">"unknown"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.004741248066393187</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"posts.devices.*"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"tablet"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.06077353367721411</span><span class="p">,</span><span class="w">
        </span><span class="nt">"automated"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.004644188990242093</span><span class="p">,</span><span class="w">
        </span><span class="nt">"desktop"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.03712638231824077</span><span class="p">,</span><span class="w">
        </span><span class="nt">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.8936350940424981</span><span class="p">,</span><span class="w">
        </span><span class="nt">"unknown"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0038208009718047322</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"enrichments.demographics.birthyear"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"1987"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.028461114175399888</span><span class="p">,</span><span class="w">
        </span><span class="nt">"1976"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.014120242691671264</span><span class="p">,</span><span class="w">
        </span><span class="nt">"1986"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.04569773855488141</span><span class="p">,</span><span class="w">
        </span><span class="nt">"1985"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.08066740209597352</span><span class="p">,</span><span class="w">
        </span><span class="nt">"1984"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.11265857694429122</span><span class="p">,</span><span class="w">
        </span><span class="nt">"1983"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.115857694429123</span><span class="p">,</span><span class="w">
        </span><span class="nt">"1972"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.015747380033094317</span><span class="p">,</span><span class="w">
        </span><span class="nt">"1982"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.10157198014340872</span><span class="p">,</span><span class="w">
        </span><span class="nt">"1971"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0163265306122449</span><span class="p">,</span><span class="w">
        </span><span class="nt">"1981"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0753723110865968</span><span class="p">,</span><span class="w">
        </span><span class="nt">"1970"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.017539988968560398</span><span class="p">,</span><span class="w">
        </span><span class="nt">"1980"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.050082735797021515</span><span class="p">,</span><span class="w">
        </span><span class="nt">"1969"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.019332597904026475</span><span class="p">,</span><span class="w">
        </span><span class="nt">"1979"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.03143960286817429</span><span class="p">,</span><span class="w">
        </span><span class="nt">"1968"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.017402095973524545</span><span class="p">,</span><span class="w">
        </span><span class="nt">"1978"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.023965802537231108</span><span class="p">,</span><span class="w">
        </span><span class="nt">"1967"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.01643684500827358</span><span class="p">,</span><span class="w">
        </span><span class="nt">"1977"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0197738554881412</span><span class="p">,</span><span class="w">
        </span><span class="nt">"1988"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.01693325979040265</span><span class="p">,</span><span class="w">
        </span><span class="nt">"1966"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0151130722559294</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

          <h1 id="execute-api">Execute API</h1>

<p>The Execute API allows for programmatic, real-time access to some of People Pattern’s most computationally heavy analytics processes.</p>

<p>Execute supports the following services:</p>

<ul>
<li><code class="prettyprint">twitter</code></li>
</ul>

<p>The following endpoints are used to interact with the Execute API.</p>

<ul>
<li><p><code class="prettyprint">/estimate/{job_type}</code></p></li>
<li><p><code class="prettyprint">/execute/{job_type}</code></p></li>
<li><p><code class="prettyprint">/status?execution={job_hash}</code></p></li>
<li><p><code class="prettyprint">/stop?execution={job_hash}</code></p></li>
<li><p><code class="prettyprint">/resources/{job_hash}/result.json</code></p></li>
</ul>

<h2 id="workflow">Workflow</h2>

<p>The basic workflow is this:</p>

<ol>
<li><p>Validate a job request using the <code class="prettyprint">/estimate</code> endpoint.</p></li>
<li><p>Kick off a job using the <code class="prettyprint">/execute</code> endpoint.</p></li>
<li><p>Using the job hash that the above step returns, periodically check the status of your job using the <code class="prettyprint">/status</code> endpoint.</p></li>
<li><p>When the status endpoint reports that your job has finished, retrieve the resulting JSON using the <code class="prettyprint">/resources</code> endpoint.</p></li>
</ol>

<h2 id="execute">Execute</h2>

<p>This is the endpoint used to kick off jobs. To start a job, send an HTTP POST request to this endpoint, specifying one of the service_type values enumerated below. You&rsquo;ll need the following headers in your HTTP request:</p>

<p><code class="prettyprint">Accept: application/json</code></p>

<p>If the body of your POST request is a JSON file:</p>

<p><code class="prettyprint">Content-Type: application/json</code></p>

<p>Or, if the body of your POST request is a CONF file:</p>

<p><code class="prettyprint">Content-Type: application/hocon</code></p>

<aside class="notice">
For examples of the POST_BODY see the different Jobs currently available for the Execute API.
</aside>

<h3 id="resource-uri">Resource URI</h3>

<p><code class="prettyprint">/execute/{job_type}</code></p>

<h3 id="json-schema">Json Schema</h3>

<table><thead>
<tr>
<th>type</th>
<th>schema URL</th>
</tr>
</thead><tbody>
<tr>
<td>Execute Response</td>
<td><a href="http://apidocs.peoplepattern.com/schemata/ExecuteResponse.json">http://apidocs.peoplepattern.com/schemata/ExecuteResponse.json</a></td>
</tr>
</tbody></table>

<h3 id="post-example-json">POST example (json)</h3>
<pre class="highlight shell"><code>curl -X POST <span class="se">\</span>
  -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Accept: application/json"</span> <span class="se">\</span>
  <span class="s2">"https://api.peoplepattern.com/execute/{job_type}?access_token=</span><span class="nv">$MY_TOKEN</span><span class="s2">"</span> <span class="se">\</span>
  -d <span class="s1">'{POST_BODY}'</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="nt">"execution"</span><span class="p">:</span><span class="s2">"{job_hash}"</span><span class="p">,</span><span class="nt">"status"</span><span class="p">:</span><span class="s2">"SUBMITTED"</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="post-example-hocon">POST example (hocon)</h3>
<pre class="highlight shell"><code>curl -X POST <span class="se">\</span>
  -H <span class="s2">"Content-type: application/hocon"</span> <span class="se">\</span>
  -H <span class="s2">"Accept: application/json"</span> <span class="se">\</span>
  <span class="s2">"https://api.peoplepattern.com/execute/{job_type}?access_token=</span><span class="nv">$MY_TOKEN</span><span class="s2">"</span> <span class="se">\</span>
  -d <span class="s1">'{POST_BODY}'</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="nt">"execution"</span><span class="p">:</span><span class="s2">"{job_hash}"</span><span class="p">,</span><span class="nt">"status"</span><span class="p">:</span><span class="s2">"SUBMITTED"</span><span class="p">}</span><span class="w">
</span></code></pre>

<h2 id="estimate">Estimate</h2>

<p>Estimate determines whether a job request is valid, and estimates how long the job will take to begin and then to complete execution.</p>

<h3 id="resource-uri">Resource URI</h3>

<p><code class="prettyprint">/estimate</code></p>

<h3 id="json-schema">Json Schema</h3>

<table><thead>
<tr>
<th>type</th>
<th>schema URL</th>
</tr>
</thead><tbody>
<tr>
<td>Estimate Request</td>
<td><a href="http://apidocs.peoplepattern.com/schemata/EstimateRequest.json">http://apidocs.peoplepattern.com/schemata/EstimateRequest.json</a></td>
</tr>
<tr>
<td>Estimate Response</td>
<td><a href="http://apidocs.peoplepattern.com/schemata/EstimateResponse.json">http://apidocs.peoplepattern.com/schemata/EstimateResponse.json</a></td>
</tr>
</tbody></table>

<p>The potential errors and warnings returned differ by job type.</p>

<h3 id="post-example">POST example</h3>
<pre class="highlight shell"><code>curl <span class="s1">'https://api.peoplepattern.com/estimate/{job_type}?access_token=$MY_TOKEN'</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s2">"Content-type: {application/json} OR {application/hocon}"</span> <span class="se">\</span>
  -H <span class="s2">"Accept: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{POST_BODY}'</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="nt">"valid"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> </span><span class="nt">"runMs"</span><span class="p">:</span><span class="mi">300000</span><span class="p">,</span><span class="w"> </span><span class="nt">"waitMs"</span><span class="p">:</span><span class="mi">300000</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="nt">"errors"</span><span class="p">:[</span><span class="s2">"Invalid job type"</span><span class="p">]}</span><span class="w">
</span></code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="nt">"errors"</span><span class="p">:[</span><span class="s2">"Maximum of 1000 ids may be provided"</span><span class="p">]}</span><span class="w">
</span></code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="nt">"valid"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> </span><span class="nt">"runMs"</span><span class="p">:</span><span class="mi">300000</span><span class="p">,</span><span class="w"> </span><span class="nt">"waitMs"</span><span class="p">:</span><span class="mi">300000</span><span class="p">,</span><span class="w"> </span><span class="nt">"warnings"</span><span class="p">:[</span><span class="s2">"At least 50 ids must be provided"</span><span class="p">]}</span><span class="w">
</span></code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="nt">"valid"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="nt">"errors"</span><span class="p">:[</span><span class="s2">"A list of ids must be present"</span><span class="p">]}</span><span class="w">
</span></code></pre>

<h2 id="status">Status</h2>

<p>The Status endpoint used to check the status of jobs you&rsquo;ve already started. To check job status, send an HTTP GET request to this endpoint specifying your job hash from the <code class="prettyprint">/execute</code> endpoint as a URL parameter.</p>

<h3 id="resource-uri">Resource URI</h3>

<p><code class="prettyprint">/status?execution={job_hash}</code></p>

<h3 id="json-schema">Json Schema</h3>

<table><thead>
<tr>
<th>type</th>
<th>schema URL</th>
</tr>
</thead><tbody>
<tr>
<td>Status Request</td>
<td><a href="http://apidocs.peoplepattern.com/schemata/StatusRequest.json">http://apidocs.peoplepattern.com/schemata/StatusRequest.json</a></td>
</tr>
<tr>
<td>Status Response</td>
<td><a href="http://apidocs.peoplepattern.com/schemata/StatusResponse.json">http://apidocs.peoplepattern.com/schemata/StatusResponse.json</a></td>
</tr>
</tbody></table>

<h3 id="get-example">GET example</h3>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.peoplepattern.com/status?execution={job_hash}?access_token=</span><span class="nv">$MY_TOKEN</span><span class="s2">"</span> <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Accept: application/json"</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="nt">"execution"</span><span class="p">:</span><span class="s2">"{job_hash}"</span><span class="p">,</span><span class="nt">"status"</span><span class="p">:</span><span class="s2">"RUNNING"</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="nt">"execution"</span><span class="p">:</span><span class="s2">"{job_hash}"</span><span class="p">,</span><span class="nt">"status"</span><span class="p">:</span><span class="s2">"FINISHED"</span><span class="p">}</span><span class="w">
</span></code></pre>

<h2 id="result">Result</h2>

<p>The Result endpoint used to retrieve the results of a job after the <code class="prettyprint">/status</code> endpoint indicates that it has finished executing. To retrieve these results, send an HTTP GET request to this endpoint, specifying your job hash. Note that calling this endpoint for a job which has not yet finished will result in an empty response body. The content of an appropriate response will depend on which kind of job is being executed, but will always be in JSON form.</p>

<h3 id="resource-uri">Resource URI</h3>

<p><code class="prettyprint">/resources/{job_hash}</code></p>

<h3 id="get-example">GET example</h3>
<pre class="highlight shell"><code>curl <span class="s1">'https://api.peoplepattern.com/resources/{job_hash}?access_token=$MY_TOKEN'</span> <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Accept: application/json"</span>
</code></pre>

<h2 id="jobs">Jobs</h2>

<p>The jobs listed here represent the current set of reports or analysis the supported by the execute API.</p>

<h3 id="analyze-public-profiles">Analyze Public Profiles</h3>

<p>To run the Analyze Public Profiles stream for one or more users, make an HTTP POST request to the <a href="#resource-uri-analyze-public-profiles">Analyze Public Profiles endpoint</a>.</p>

<p><code class="prettyprint">/AnalyzePublicProfiles</code></p>

<h4 id="json-schema">Json Schema</h4>

<table><thead>
<tr>
<th>type</th>
<th>schema URL</th>
</tr>
</thead><tbody>
<tr>
<td>AnalyzePublicProfilesRequest</td>
<td><a href="http://apidocs.peoplepattern.com/schemata/AnalyzePublicProfilesRequest.json">http://apidocs.peoplepattern.com/schemata/AnalyzePublicProfilesRequest.json</a></td>
</tr>
</tbody></table>

<h3 id="post-example-json">POST example (json)</h3>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.peoplepattern.com/execute/AnalyzePublicProfiles?access_token=</span><span class="nv">$MY_TOKEN</span><span class="s2">"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Accept: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{"ids":["twitter:116679528","twitter:118710202", "twitter:119772680"]}'</span>
</code></pre>

<h3 id="post-example-hocon">POST example (hocon)</h3>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.peoplepattern.com/execute/AnalyzePublicProfiles?access_token=</span><span class="nv">$MY_TOKEN</span><span class="s2">"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s2">"Content-type: application/hocon"</span> <span class="se">\</span>
  -H <span class="s2">"Accept: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'ids = ["twitter:116679528","twitter:118710202", "twitter:119772680"]'</span>
</code></pre>

<h3 id="audience-influencers">Audience Influencers</h3>

<p>To get an Audience Influencers report for one or more users, make an HTTP POST request to the <a href="#resource-uri-audience-influencers">Audience Influencers endpoint</a>.</p>

<p><code class="prettyprint">/AudienceInfluencers</code></p>

<h4 id="json-schema">Json Schema</h4>

<table><thead>
<tr>
<th>type</th>
<th>schema URL</th>
</tr>
</thead><tbody>
<tr>
<td>AudienceInfluencersReportRequest</td>
<td><a href="http://apidocs.peoplepattern.com/schemata/AudienceInfluencersReportRequest.json">http://apidocs.peoplepattern.com/schemata/AudienceInfluencersReportRequest.json</a></td>
</tr>
<tr>
<td>AudienceInfluencersReportResult</td>
<td><a href="http://apidocs.peoplepattern.com/schemata/AudienceInfluencersReportResult.json">http://apidocs.peoplepattern.com/schemata/AudienceInfluencersReportResult.json</a></td>
</tr>
</tbody></table>

<h3 id="post-example-json">POST example (json)</h3>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.peoplepattern.com/execute/AudienceInfluencers?access_token=</span><span class="nv">$MY_TOKEN</span><span class="s2">"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Accept: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{"ids":["twitter:116679527","twitter:118710202", "twitter:119772680"]}'</span>
</code></pre>

<h3 id="post-example-hocon">POST example (hocon)</h3>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.peoplepattern.com/execute/AudienceInfluencers?access_token=</span><span class="nv">$MY_TOKEN</span><span class="s2">"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s2">"Content-type: application/hocon"</span> <span class="se">\</span>
  -H <span class="s2">"Accept: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'ids = ["twitter:116679528","twitter:118710202", "twitter:119772680"]'</span>
</code></pre>

<h3 id="external-influencers">External Influencers</h3>

<p>To get an External Influencers report for one or more users, make an HTTP POST request to the <a href="#resource-uri-external-influencers">External Influencers endpoint</a>.</p>

<p><code class="prettyprint">/ExternalInfluencers</code></p>

<h4 id="json-schema">Json Schema</h4>

<table><thead>
<tr>
<th>type</th>
<th>schema URL</th>
</tr>
</thead><tbody>
<tr>
<td>ExternalInfluencersReportRequest</td>
<td><a href="http://apidocs.peoplepattern.com/schemata/ExternalInfluencersReportRequest.json">http://apidocs.peoplepattern.com/schemata/ExternalInfluencersReportRequest.json</a></td>
</tr>
<tr>
<td>ExternalInfluencersReportResult</td>
<td><a href="http://apidocs.peoplepattern.com/schemata/ExternalInfluencersReportResult.json">http://apidocs.peoplepattern.com/schemata/ExternalInfluencersReportResult.json</a></td>
</tr>
</tbody></table>

<h3 id="post-example-json">POST example (json)</h3>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.peoplepattern.com/execute/ExternalInfluencers?access_token=</span><span class="nv">$MY_TOKEN</span><span class="s2">"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Accept: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{"ids":["twitter:116679527","twitter:118710202", "twitter:119772680"]}'</span>
</code></pre>

<h3 id="post-example-hocon">POST example (hocon)</h3>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.peoplepattern.com/execute/ExternalInfluencers?access_token=</span><span class="nv">$MY_TOKEN</span><span class="s2">"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s2">"Content-type: application/hocon"</span> <span class="se">\</span>
  -H <span class="s2">"Accept: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'ids = ["twitter:116679528","twitter:118710202", "twitter:119772680"]'</span>
</code></pre>

<h3 id="follower-breakdown">Follower Breakdown</h3>

<p>To get a follower breakdown for one or more users, make an HTTP POST request to the <a href="#resource-uri-follower-breakdown">Follower Breakdown endpoint</a>.</p>

<p><code class="prettyprint">/FollowerBreakdown</code></p>

<h4 id="json-schema">Json Schema</h4>

<table><thead>
<tr>
<th>type</th>
<th>schema URL</th>
</tr>
</thead><tbody>
<tr>
<td>FollowerBreakdownReportRequest</td>
<td><a href="http://apidocs.peoplepattern.com/schemata/FollowerBreakdownReportRequest.json">http://apidocs.peoplepattern.com/schemata/FollowerBreakdownReportRequest.json</a></td>
</tr>
<tr>
<td>FollowerBreakdownReportResult</td>
<td><a href="http://apidocs.peoplepattern.com/schemata/FollowerBreakdownReportResult.json">http://apidocs.peoplepattern.com/schemata/FollowerBreakdownReportResult.json</a></td>
</tr>
</tbody></table>

<h3 id="post-example-json">POST example (json)</h3>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.peoplepattern.com/execute/FollowerBreakdown?access_token=</span><span class="nv">$MY_TOKEN</span><span class="s2">"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Accept: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{"ids":["twitter:116679527","twitter:118710202", "twitter:119772680"]}'</span>
</code></pre>

<h3 id="post-example-hocon">POST example (hocon)</h3>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.peoplepattern.com/execute/FollowerBreakdown?access_token=</span><span class="nv">$MY_TOKEN</span><span class="s2">"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s2">"Content-type: application/hocon"</span> <span class="se">\</span>
  -H <span class="s2">"Accept: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'ids = ["twitter:116679528","twitter:118710202", "twitter:119772680"]'</span>
</code></pre>

          <h1 id="enrich-api">Enrich API</h1>

<p>The Enrich API provides access to our audience intelligence
and machine-learned based models used to extract personal attributes,
like demographics and location information from profile and post data.</p>

<p>This API takes as input a serialized as JSON object, and echoes that
content back in the response along with predicted enrichments. This
allows you to include an identifier which gets returned in the response and may
be used as a reference id.</p>

<h2 id="profile-enrich">Profile Enrich</h2>

<p>When enriching a profile the profile data structure is passed back to the client along with the profile enrichments.</p>

<h3 id="resource-uri-enrich-profile">Resource URI enrich-profile</h3>

<p><code class="prettyprint">/profile</code></p>

<h3 id="http-post">HTTP POST</h3>

<p>To enrich a profile, make an HTTP POST request to <a href="#resource-uri-enrich-profile">Profile Enrich endpoint</a>.<br>
We use the HTTP POST method, since some clients do not allow you to
send request bodies with HTTP GET requests.</p>

<h4 id="post-parameters">POST PARAMETERS</h4>

<table><thead>
<tr>
<th>PARAMETER</th>
<th>REQUIRED</th>
<th>DESCRIPTION</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">body</code></td>
<td>Yes</td>
<td>a <a href="#profile-input">profile object</a> or an array of profile objects</td>
</tr>
</tbody></table>

<aside class="notice">
The Enrich API also supports document formats provided by social media
API, starting with the Twitter API. By passing a
<a href="https://dev.twitter.com/overview/api/users">Twitter user object</a> in the
Twitter standard API JSON format, the Enrich API will return the document
in its original format only with a new &ldquo;peoplepattern&rdquo; field, populated
as above.
</aside>

<h3 id="enrich-a-single-profile">Enrich a single profile</h3>
<pre class="highlight shell"><code>curl <span class="s1">'https://api.peoplepattern.com/profile?access_token=$MY_TOKEN'</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Accept: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{"name":"Joe User", "username": "juser", "description": "my profile", "location": "Boston, USA"}'</span>
</code></pre>

<p>TODO: rerun this, response format out of date</p>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Joe User"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"juser"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my profile"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"location"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Boston, USA"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"peoplepattern"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"account_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"person"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"spam"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"adult"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"vcard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"given-name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Joe"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"family-name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"User"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"fn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Joe User"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"demographics"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"birthyear"</span><span class="p">:</span><span class="w"> </span><span class="mi">1985</span><span class="p">,</span><span class="w">
      </span><span class="nt">"gender"</span><span class="p">:</span><span class="w"> </span><span class="s2">"male"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"race"</span><span class="p">:</span><span class="w"> </span><span class="s2">"white"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"place"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Boston, Massachusetts"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"city"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"geo_name_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4930956</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"City"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"location"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"dma"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Boston, MA-Manchester, NH"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Boston"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Massachusetts"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"state_abbreviation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MA"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"utc_offset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-18000"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"time_zone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"America/New_York"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"metro_area"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Boston-Cambridge-Newton, MA-NH"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"continent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NA"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"language"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"population"</span><span class="p">:</span><span class="w"> </span><span class="mi">617594</span><span class="p">,</span><span class="w">
        </span><span class="nt">"place_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"City"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"United States"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"country_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"coordinates"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"longitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">42.35843</span><span class="p">,</span><span class="w">
          </span><span class="nt">"latitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">-71.05977</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"extended_demographics"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
    </span><span class="nt">"interestingness"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.8431624560581947</span><span class="p">,</span><span class="w">
    </span><span class="nt">"_meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"current-models"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"model_version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.11-pre4"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"predict_fields"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"username"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"location"</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>When passing a single <a href="#profile-input">profile</a> to the
enrich profile endpoint, the profile data structure is passed
back to the client with a <code class="prettyprint">peoplepattern</code> field filled with
<a href="#profile-enrichments">profile enrichments</a>.</p>

<h3 id="enrich-a-batch-of-profiles">Enrich a batch of profiles</h3>
<pre class="highlight shell"><code>curl <span class="s1">'https://eapi.peoplepattern.com/profile?access_token=$MY_TOKEN'</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Accept: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'[{"name":"Joe User", "username": "juser", "description": "my profile", "location": "Boston, USA"}, {"name": "Mary Brown", "username": "mbrown", "description": "This is Marys profile"}]'</span>
</code></pre>
<pre class="highlight json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
    </span><span class="nt">"result"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Joe User"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"juser"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my profile"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"location"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Boston, USA"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"peoplepattern"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"account_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"person"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"spam"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"adult"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"vcard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"given-name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Joe"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"family-name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"User"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"fn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Joe User"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"demographics"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"birthyear"</span><span class="p">:</span><span class="w"> </span><span class="mi">1985</span><span class="p">,</span><span class="w">
          </span><span class="nt">"gender"</span><span class="p">:</span><span class="w"> </span><span class="s2">"male"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"race"</span><span class="p">:</span><span class="w"> </span><span class="s2">"white"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"place"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Boston, Massachusetts"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"city"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="nt">"geo_name_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4930956</span><span class="p">,</span><span class="w">
          </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"City"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"location"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"dma"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Boston, MA-Manchester, NH"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Boston"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Massachusetts"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"state_abbreviation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MA"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"utc_offset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-18000"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"time_zone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"America/New_York"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"metro_area"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Boston-Cambridge-Newton, MA-NH"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"continent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NA"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"language"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"population"</span><span class="p">:</span><span class="w"> </span><span class="mi">617594</span><span class="p">,</span><span class="w">
            </span><span class="nt">"place_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"City"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"United States"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"country_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"coordinates"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nt">"longitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">42.35843</span><span class="p">,</span><span class="w">
              </span><span class="nt">"latitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">-71.05977</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"extended_demographics"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
        </span><span class="nt">"interestingness"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.8431624560581947</span><span class="p">,</span><span class="w">
        </span><span class="nt">"_meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"current-models"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"model_version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.11-pre4"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"predict_fields"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"username"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"description"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"location"</span><span class="w">
          </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
    </span><span class="nt">"result"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mary Brown"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mbrown"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"This is Mary's profile"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"peoplepattern"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"account_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"person"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"spam"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"adult"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"vcard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"given-name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mary"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"family-name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Brown"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"fn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mary Brown"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"demographics"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"birthyear"</span><span class="p">:</span><span class="w"> </span><span class="mi">1962</span><span class="p">,</span><span class="w">
          </span><span class="nt">"gender"</span><span class="p">:</span><span class="w"> </span><span class="s2">"female"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"race"</span><span class="p">:</span><span class="w"> </span><span class="s2">"white"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"extended_demographics"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
        </span><span class="nt">"interestingness"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.9613207296903373</span><span class="p">,</span><span class="w">
        </span><span class="nt">"_meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"current-models"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"model_version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.11-pre4"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"predict_fields"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"username"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"description"</span><span class="w">
          </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<p>When passing a batch of profiles to the enrich profile endpoint,
the client receives a batch of responses. Since each profile request
may succeed or fail individually, the batch of responses included
their own meta-data with respect to the response status.</p>

<aside class="notice">
As with the single-profile call, batches of Twitter API format &ldquo;users&rdquo;
are also supported.
</aside>

<h3 id="error-sample">Error Sample</h3>

<p>To see a comprehensive list of error status returned the the People Pattern Audience Intelligence API please see the <a href="#errors">Errors section</a>.<br>
Here we have displayed what a same error response would look like from the Enrich API.</p>

<blockquote>
<p>Example invalid format call with output</p>
</blockquote>
<pre class="highlight shell"><code>curl <span class="s1">'https://api.peoplepattern.com/profile?access_token=$MY_TOKEN'</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Accept: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'[{}]'</span>

<span class="o">[{</span><span class="s2">"status"</span>:<span class="s2">"error"</span>,<span class="s2">"code"</span>:400,<span class="s2">"error"</span>:<span class="o">{</span><span class="s2">"input"</span>:<span class="o">{}</span>,<span class="s2">"message"</span>:<span class="s2">"No valid fields provided for profile content"</span><span class="o">}}]</span>
</code></pre>

<h2 id="post-enrich">Post Enrich</h2>

<p>When enriching a post the post data structure is passed back to the client along with the profile enrichments.</p>

<h3 id="resource-uri-enrich-post">Resource URI enrich-post</h3>

<p><code class="prettyprint">/post</code></p>

<h3 id="http-post">HTTP POST</h3>

<p>To enrich a post, make an HTTP POST request to <a href="#resource-uri-enrich-post">Post Enrich endpoint</a>.<br>
We use the HTTP POST method, since some clients do not allow you to
send request bodies with HTTP GET requests.</p>

<h4 id="post-parameters">POST PARAMETERS</h4>

<table><thead>
<tr>
<th>PARAMETER</th>
<th>REQUIRED</th>
<th>DESCRIPTION</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">body</code></td>
<td>Yes</td>
<td>a <a href="#post-input">post object</a> or a array of post objects</td>
</tr>
</tbody></table>

<aside class="notice">
Similar to the Twitter API&rsquo;s <a href="https://dev.twitter.com/overview/api/tweets">tweet</a>
data structures which contain a &ldquo;text&rdquo; field, the Enrich API
social media post enrichment call will work with the same tweet JSON
</aside>

<h2 id="post-input">Post (input)</h2>

<p>A social media post or other text may be passed to the Enrich API
as a JSON object with a string-valued <code class="prettyprint">text</code> field</p>

<table><thead>
<tr>
<th>field</th>
<th>type</th>
</tr>
</thead><tbody>
<tr>
<td>text</td>
<td>string</td>
</tr>
</tbody></table>

<p>JSON objects containing other fields may be used, and other
fields are provided back to the client in
<a href="#enriched-post">enriched post output</a></p>

<h2 id="post-enrichments">Post enrichments</h2>

<blockquote>
<p>Sample post enrichments as JSON</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"interests"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"science"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"languages"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"en"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"sentiment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"neutral"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Post enrichments consist of a set of predicted interest topics,
predicted languages and predicted sentiment</p>

<table><thead>
<tr>
<th>field</th>
<th>type</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>interests</td>
<td>array of string</td>
<td><a href="#interest-topic-values">interest topics</a></td>
</tr>
<tr>
<td>languages</td>
<td>array of string</td>
<td><a href="https://en.wikipedia.org/wiki/ISO_639-1">ISO 639-1 two letter language codes</a></td>
</tr>
<tr>
<td>sentiment</td>
<td>string</td>
<td>&ldquo;positive&rdquo;, &ldquo;negative&rdquo; or &ldquo;neutral&rdquo;</td>
</tr>
</tbody></table>

<h3 id="enrich-a-single-post">Enrich a single post</h3>
<pre class="highlight shell"><code>curl <span class="s1">'https://api.peoplepattern.com/post?access_token=$MY_TOKEN'</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Accept: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{"text":"Bowling tonight? or kung-fu?"}'</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bowling tonight? or kung-fu?"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"peoplepattern"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"interests"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"leisure_sports"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"languages"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"en"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"sentiment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"neutral"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"interestingness"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.7085509373685894</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>When passing a single <a href="#post-input">post</a> to the
enrich post endpoint, the post data structure is passed
back to the client with a <code class="prettyprint">peoplepattern</code> field filled with
<a href="#post-enrichments">post enrichments</a>.</p>

<h3 id="enrich-a-batch-of-posts">Enrich a batch of posts</h3>
<pre class="highlight shell"><code>curl <span class="s1">'https://api.peoplepattern.com/post?access_token=$MY_TOKEN'</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Accept: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'[{"text":"Bowling tonight? or kung-fu?"},{"text":"I love bowling with friends"},{"text":"But I also love eating at home with the family"}]'</span>
</code></pre>
<pre class="highlight json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
    </span><span class="nt">"result"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bowling tonight? or kung-fu?"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"peoplepattern"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"interests"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">"leisure_sports"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"languages"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">"en"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"sentiment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"neutral"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"interestingness"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.7085509373685894</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
    </span><span class="nt">"result"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"I love bowling with friends"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"peoplepattern"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"interests"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">"leisure_sports"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"languages"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">"en"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"sentiment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"positive"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"interestingness"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5522605037296693</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
    </span><span class="nt">"result"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"But I also love eating at home with the family"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"peoplepattern"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"interests"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">"family"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"languages"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">"en"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"sentiment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"positive"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"interestingness"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5893891902193789</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<p>When passing a batch of posts to the enrich post endpoint,
the client receives a batch of responses. Since each post request
may succeed or fail individually, the batch of responses included
their own meta-data with respect to the response status.</p>

<aside class="notice">
As with the single-post call, batches of Twitter API format &ldquo;tweets&rdquo;
are also supported.
</aside>

<h3 id="error-sample">Error Sample</h3>

<p>To see a comprehensive list of error status returned the the People Pattern Audience Intelligence API please see the <a href="#errors">Errors section</a>.<br>
Here we have displayed what a same error response would look like from the Enrich API.</p>

<blockquote>
<p>Example invalid format call with output</p>
</blockquote>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.peoplepattern.com/post?access_token=</span><span class="nv">$MY_TOKEN</span><span class="s2">"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Accept: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'[{}]'</span>

<span class="o">[{</span><span class="s2">"status"</span>:<span class="s2">"error"</span>,<span class="s2">"code"</span>:400,<span class="s2">"error"</span>:<span class="o">{</span><span class="s2">"input"</span>:<span class="o">{}</span>,<span class="s2">"message"</span>:<span class="s2">"No valid fields provided for profile content"</span><span class="o">}}]</span>
</code></pre>

          <h1 id="stitching-api">Stitching API</h1>

<p>The Stitching API exposes a model which attempts to match an individual&rsquo;s name, location, and/or email address to a Twitter account.  People Pattern’s stitching algorithms process, identify, score and match social profiles to individuals, adding dimensions of customer attributes previously unattainable</p>

<p>Stitching supports the following services:</p>

<ul>
<li><code class="prettyprint">twitter</code></li>
</ul>

<aside class="success">
Providing more information to the API will increase the likelihood of better matches and increased match rates. Providing just one of the accepted fields (name, location, email address) will be unlikely to produce satisfactory results.
</aside>

<h2 id="stitch-input">Stitch (input)</h2>

<p>Persons are objects containing any of the following fields. These are
provided to the stitch <a href="#stitching-api">Stitching API</a> endpoints</p>

<table><thead>
<tr>
<th>field</th>
<th>type</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">name</code></td>
<td>string</td>
<td>the first and last name of the person</td>
</tr>
<tr>
<td><code class="prettyprint">email</code></td>
<td>string</td>
<td>the person&rsquo;s email address, typically the same one used for the social account(s)</td>
</tr>
<tr>
<td><code class="prettyprint">location</code></td>
<td>string</td>
<td>the text representation of the person&rsquo;s location</td>
</tr>
</tbody></table>

<p>All fields are optional, but a person object containing <em>none</em> of these fields is considered a bad request, and the more fields submitted increase the quality of matches returned.</p>

<h2 id="stitch-a-single-record">Stitch a single record</h2>

<p>When stitching a person record the original person record is passed back along with an array of possible matches.</p>

<h3 id="resource-uri-stitch">Resource URI stitch</h3>

<p><code class="prettyprint">/stitch</code></p>

<h3 id="http-post">HTTP POST</h3>

<p>To stitch a person record to a social profile, make an HTTP POST request to <a href="#resource-uri-stitch">Stitching endpoint</a>.
The appropriate headers and default body schema can be seen in the example request in the sidebar.</p>

<h4 id="post-parameters">POST PARAMETERS</h4>

<table><thead>
<tr>
<th>PARAMETER</th>
<th>REQUIRED</th>
<th>DESCRIPTION</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">body</code></td>
<td>Yes</td>
<td>a <a href="#stitch-input">person record</a> or an array of person objects</td>
</tr>
</tbody></table>

<h3 id="stitch-a-single-person-record">Stitch a single person record</h3>
<pre class="highlight shell"><code>curl <span class="s2">"https://stitching.peoplepattern.com/stitch?access_token=</span><span class="nv">$MY_TOKEN</span><span class="s2">"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Accept: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{"query":{"name":"Elias Ponvert","location":"Austin, Texas"}}'</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"hits"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"hits"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"handle"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eponvert"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"provider"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"twitter"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"service_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"61546029"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"twitter:61546029"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"_score"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Each match will contain a score indicating the confidence of that match.  When passing a single <a href="#stitch-input">person record</a> to the
stitch endpoint, the array of results are passed
back to the client with a score indicating the confidence of each match.</p>

<h3 id="stitch-a-batch-of-records">Stitch a batch of records</h3>
<pre class="highlight shell"><code>curl <span class="s1">'https://stitching.peoplepattern.com/stitch?access_token=$MY_TOKEN'</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Accept: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'[{"query":{"name":"Elias Ponvert","location":"Austin, Texas"}},{"query":{"name":"Jason Baldridge","location":"Austin, Texas"}}]'</span>
</code></pre>
<pre class="highlight json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"hits"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"hits"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"handle"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eponvert"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"provider"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"twitter"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"service_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"61546029"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"twitter:61546029"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"_score"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"hits"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"hits"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"handle"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jasonbaldridge"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"provider"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"twitter"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"service_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"119837224"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"twitter:119837224"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"_score"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<p>When passing a batch of person records to the stitch endpoint, POST an array of query JSON objects rather than just a single one.</p>

<aside class="warning">
This API does not currently paginate responses, so as a precaution you should avoid sending arrays of more than 10 queries at a time.
</aside>

<h2 id="requesting-additional-fields">Requesting Additional Fields</h2>
<pre class="highlight shell"><code>curl <span class="s2">"https://stitching.peoplepattern.com/stitch?access_token=</span><span class="nv">$MY_TOKEN</span><span class="s2">"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Accept: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{"query":{"name":"Elias Ponvert","location":"Austin, Texas"},"fields":["name", "twitter", "peoplepattern"]}'</span>
</code></pre>

<p>TODO: rerun this, response format out of date
<code class="prettyprint">json
{
  &quot;hits&quot;: {
    &quot;hits&quot;: [
      {
        &quot;peoplepattern&quot;: {
          &quot;account_type&quot;: &quot;person&quot;,
          &quot;birthyear&quot;: 1979,
          &quot;gender&quot;: &quot;male&quot;,
          &quot;race&quot;: &quot;white&quot;,
          &quot;interestingness&quot;: 0.9938160676130328,
          &quot;ageQuantiles&quot;: [
            29,
            29.25,
            29.5,
            29.75,
            30,
            30.25,
            30.5,
            31.303387682248616,
            32.860457271189546
          ],
          &quot;numAgeQuantiles&quot;: 9,
          &quot;adult&quot;: false,
          &quot;spam&quot;: false,
          &quot;version&quot;: &quot;0.10&quot;,
          &quot;age&quot;: 37
        },
        &quot;name&quot;: &quot;elias ponvert&quot;,
        &quot;twitter&quot;: {
          &quot;friends_count&quot;: 1233,
          &quot;listed_count&quot;: &quot;27&quot;,
          &quot;screen_name&quot;: &quot;eponvert&quot;,
          &quot;statuses_count&quot;: 857,
          &quot;favourites_count&quot;: 87,
          &quot;followers_count&quot;: 417,
          &quot;verified&quot;: false
        },
        &quot;_score&quot;: 10
      }
    ],
    &quot;total&quot;: 1
  }
}
</code></p>

<p>You can request that the response you receive be annotated with additional fields for each match found. Those additional fields are:</p>

<p><code class="prettyprint">&quot;name&quot;</code>: Requesting this field simply appends the matched user&rsquo;s &ldquo;name&rdquo; field from Twitter to the response.</p>

<p><code class="prettyprint">&quot;twitter&quot;</code>: Requesting this field appends other basic information about the Twitter account such as number of followers, number of tweets, whether the user is &ldquo;Verified&rdquo;, etc.</p>

<p><code class="prettyprint">&quot;peoplepattern&quot;</code>: Requesting this field appends some basic predictions from our other models to the response. This includes predictions of account type, some demographic information, and an &ldquo;interestingness&rdquo; score.</p>

          <h1 id="errors">Errors</h1>

<p>The People Pattern API uses the following error codes:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request &ndash; Malformed request</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Your API key is wrong</td>
</tr>
<tr>
<td>404</td>
<td>Not Found &ndash; The requested resource is not available on the API</td>
</tr>
<tr>
<td>406</td>
<td>Not Acceptable &ndash; You requested a format that isn&rsquo;t json</td>
</tr>
<tr>
<td>410</td>
<td>Gone &ndash; The resource requested has been removed from our servers</td>
</tr>
<tr>
<td>429</td>
<td>Too Many Requests &ndash; Too many concurrent requests are being made by your client</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error &ndash; Service side error &ndash; please contact us a <a href="mailto:api-help@peoplepattern.com">api-help@peoplepattern.com</a></td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable &ndash; Service is offline for maintenance</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">cURL</a>
                <a href="#" data-language-name="json">Output</a>
          </div>
      </div>
    </div>
  </body>
</html>
